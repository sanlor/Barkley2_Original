/*
// SETUP STUFF //
var conf = argument0;
var actor = argument1;
var command = argument2;
var changestat = argument3;

// GENERATE SOME DEFAULT VALUES //
if (command == "generate") then
    {
    // Copy attack stats into Conf so it can be used as an attack object
    var atk = scr_stats_newAttackStats();
    ds_map_copy(conf, atk);
    ds_map_destroy(atk);
    
    // Append basic information
    scr_statusEffect_generateBasicInfo(conf, statusEffect_compressing, 80);
    
    // Default values so there won't be undefined variable crashes //
    conf[? "affixPower"]        = 1;
    conf[? "affixPower_2"]      = 1;
    
    conf[? STAT_BASE_RESISTANCE_NORMAL]     = 0;
    conf[? STAT_BASE_WEIGHT]                = 0;

    conf[? "perc_wei"]          = 0;
    
    conf[? "hitInterval"]       = 5;
    conf[? "hitTimer"]          = 1;
    conf[? "hitNumber"]         = 1;
    conf[? "restorationNumber"] = 0;
    conf[? "drainSet"]          = false;
    
    conf[? "timerTotal"] = conf[? "timer"];
    conf[? "timerDelay"] = 20;

    conf[? "effectImage"] = 0;
    conf[? "effectImageMin"] = 0;
    conf[? "effectImageMax"] = 4;
    conf[? "effectY"] = 0;

    conf[? "effectFlickerTimer"] = 0;
    conf[? "effectFlickerTimerReset"] = 5;
    conf[? "effectFlickerToggle"] = 1;

    // Return configuration //
    return conf;
    }

// IF ACTOR DOES NOT EXIST RETURN 0 //
else if (!instance_exists(actor)) then 
    {
    return 0;
    }

// APPLY THIS STATUS EFFECT //
else if (command == "apply") then 
    {
    // Check if actor already has the status effect //
    var currentCompressing = scr_statusEffect_getFromCombatActor(actor, statusEffect_compressing);
    
    // Status effect being applied when the actor does not have it currently //
    if (currentCompressing == -1) then
        {
        // Apply //
        scr_statusEffect_applyNewToCombatActor(actor, conf);
        
        // Sound effect on apply //
        audio_play_sound_on_actor(actor,scr_soundbank_pickSound("affix_compressing"),false,70);
        }
    else 
        {
        // Re-apply the status effect AKA reset the timer //
        var timer = conf[? "timer"];
        timer = max(timer, currentCompressing[? "timer"]);
        currentCompressing[? "timer"] = timer;
        }
    
    // Return zero //
    return 0;
    } 
    
// STATUS EFFECT STEP //
else if (command == "step") then
    {
    // This is for the status effect visual flickering //
    scr_fx_statusFlicker(conf, 4, 1);
    
    // Set up some variables needed down below //
    var hitTimer = conf[? "hitTimer"];
    var hitNumber = conf[? "hitNumber"];
    
    // Set the drain variables //
    if conf[? "drainSet"] = false then
        {
        conf[? "perc_wei"] = (scr_stats_getBaseStat(actor, STAT_BASE_WEIGHT) * (0.40 + conf[? "affixPower_2"]));
        conf[? "drainSet"] = true;
        }
            
    // Delay before this all takes effect //
    if conf[? "timer"] <= conf[? "timerDelay"] then 
        {
        // Timer shyte //
        hitTimer -= dt();
    
        // Stat changes //
        if (hitTimer <= 0 and hitNumber > 0) then
            {
            // Changes to stats //
            conf[? STAT_BASE_RESISTANCE_NORMAL] = conf[? STAT_BASE_RESISTANCE_NORMAL] - (conf[? "affixPower"]);
            conf[? STAT_BASE_WEIGHT] = conf[? STAT_BASE_WEIGHT] - (conf[? "perc_wei"]);     
            
            // Reset interval stuff //
            hitTimer = conf[? "hitInterval"];;
            hitNumber -= 1;        
            }
        }
    
    // Get variables back for the next step coming up //
    conf[? "hitNumber"] = hitNumber;
    conf[? "hitTimer"] = hitTimer;
    
    // Return zero //
    return false;
    }
    
// STAT CHANGES GET PROCESSED HERE //
else if (command == "changestat") then
    {
    // Change RESISTANCES //
    if(changestat== STATGROUP_RESISTANCES)
        {
        scr_stats_setEffectiveStat(actor, STAT_BASE_RESISTANCE_NORMAL, scr_stats_getEffectiveStat(actor, STAT_BASE_RESISTANCE_NORMAL) + conf[? STAT_BASE_RESISTANCE_NORMAL]);
        }
        
    // Change WEIGHT //
    if(changestat== STAT_BASE_WEIGHT)
        {
        scr_stats_setEffectiveStat(actor, STAT_BASE_WEIGHT, scr_stats_getEffectiveStat(actor, STAT_BASE_WEIGHT) + conf[? STAT_BASE_WEIGHT]);
        }
        
    // Return zero //
    return 0;
    }

// DAMAGE //
else if (command == "damage") then 
    {
    return 0;
    }

// DRAW //
else if (command == "draw") then
    {
    return 0;
    }

// POST DRAW //
else if (command == "draw_post") then 
    {
    scr_fx_statusDrawEffect(conf, actor, s_effect_affix_TEMP);
    return 0;
    }
    
// AILMENT ENDS //
else if (command == "finish") then
    {
    return 0;
    }
