// Event for Guillaume, the guitarist in Tir na Nog after he's left. Appears in Al-Akihabara.
// Guillaume plays the song pianosong on loop. The closer the player gets to Guillaume, the louder it gets. 10 or 11 paces away and you can't hear it.
// usage: event_dz2_guillaume01();

/*if (argument0 == SCRIPT_STEP) {
    //if you didn't release guillaume from tir na nog.
    //if (visible and !scr_event_etc_instance_on_screen(id) and (scr_quest_get_state("govGuillaume") < 2)) {
    if (visible and (scr_quest_get_state("govGuillaume") < 2)) { // removed the instance on screen thing - bort
        scr_event_interactive_deactivate();
    }
    //
    else if (scr_quest_get_state("guillaumeWedding") == 1) and (scr_time_get() >= 4) and (scr_time_get() <= 10){
        scr_event_interactive_deactivate();
    }
    else if (scr_quest_get_state("govGuillaume") >= 2) {
        scr_event_interactive_activate();
    }
} else if (argument0 == SCRIPT_INTERACT) {
    // Build Event
    var guillaume = id;
    var event = scr_event_create_main();
    var weddingQuestAsk = scr_event_create_child(event);

//--------------------------------------------
//------------ WEDDING QUEST ASK _------------
//--------------------------------------------  
    with (weddingQuestAsk) { 
        scr_event_build_dialogue(P_NAME, s_port_hoopz, "Hey, you know, Guillaume, I'm putting together a band to play at a wedding. You wouldn't be interested in playing the guitar for it, would you?");
        scr_event_build_dialogue("Guillaume", s_port_guillaume, "A wedding gig, huh? Sure, could be chill. Gimme the deets, maaaan.");
        scr_event_build_dialogue(P_NAME, s_port_hoopz, "I'm still putting the band together, but I'll be ready soon. If you want to go to the booty bass club in Brain City, I'll meet you there when everything's set.");
        scr_event_build_dialogue("Guillaume", s_port_guillaume, "Raaaaaad, man. Hope the pay's good. I guess I'll practice with the others while I wait. I'll see you there...");
        scr_event_build_fade(true, 2);
        scr_event_build_wait_for_actions();
        scr_event_build_quest_state("guillaumeWedding", 1);
        scr_event_build_quest_state_add("musicianCount", 1);
        scr_event_build_set_object(o_guillaume02, -500, -500);
        scr_event_build_fade(false, 2);
        scr_event_build_wait_for_actions();
        scr_event_build_dialogue(P_NAME, s_port_hoopz, "One more musician for the band down. I need " + string(3 - (scr_quest_get_state("musicianCount"))) + " more...");
}   
    
    with (event) {
          
        //Did Wedding Quest with Guillaume.
        if (scr_quest_get_state("weddingQuest") == 3) and (scr_quest_get_state("guillaumeWedding") == 3) {
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Heeeeeeey, what's up man? Good to see you again, I was getting mondo vibes back at that wedding. The Jazzy Rascals, maaan... we gotta jam more 'cuz our chakras were aligned.");
            scr_event_build_dialogue(P_NAME, s_port_hoopz, "(The Jazzy Rascals...)");
        
        //Told Guillaume to go to church in Brain City but did not show up, spoke to him again.
        } else if (scr_quest_get_state("guillaumeWedding") == 2) {
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Maaan, you're gettin' my chakras all bent out of shape. Just leave me alone.");
            
            
        //Told Guillaume to go to church in Brain City but did not show up.
        } else if (scr_quest_get_state("weddingQuest") == 1) and (scr_quest_get_state("guillaumeWedding") == 1) and (scr_time_get() >= 11) {
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Heeeeeeey, man, what gives? You said you were gonna meet me at that church in Brain City but never showed up! What's goin' on, man? Why are you yankin' me around?");
            scr_event_build_dialogue(P_NAME, s_port_hoopz, "I... I was kinda busy...");
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Maaan, forget you, you're a buzz kill. You're totally messin' up my vibes, man. Just leave me alone.");
            scr_event_build_quest_state("guillaumeWedding", 2);
        
    
       //met guillaume before.
       }else if (scr_quest_get_state("guillaumeMet") == 1) {
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Maaaan, nobody here ever throws me a bone. Whenever someone really wants to hear some music, they just go to Master Sabah. I'm diggin' the chill vibes here in Al-Akihabara, I just wish there was some work...");
            //If you're on the wedding quest and time >= 4 and <= 10
            if (scr_quest_get_state("weddingQuest") == 1) and (scr_quest_get_state("musicianCount") <= 3) and (scr_time_get() >= 4) and (scr_time_get() <= 10){
                scr_event_build_dialogue(P_NAME, s_port_hoopz, "(Actually, I am looking for musicians... maybe I can get him to play in my wedding band...");
                var weddingQuestion2 = scr_event_build_choice("Should I ask Guillaume to join my group?", s_port_hoopz);
                
                //Ask Guillaume.
                with scr_event_build_add_choice(weddingQuestion2, "I've got a job for you if you want to play for a wedding.") {
                    scr_event_build_event_snippet(weddingQuestAsk);
                    }
                    
                //Don't ask Guillaume.
                with scr_event_build_add_choice(weddingQuestion2, "Nah, I don't think the band needs an acoustic guitar.") {
                    scr_event_build_dialogue(P_NAME, s_port_hoopz, "That's a bummer, Guillaume. I'll keep an ear out for good music jobs...");
                    }
                
                }
    
       //Never met Guillaume in Al-Akihabara before.
       } else if (scr_quest_get_state("guillaumeMet") == 0) {
            scr_event_build_quest_state("guillaumeMet", 1);
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Heyyy... don't I know you? You were that cat in Tir na Nog that went around talking to everyone, weren't you? Haha, no kidding, what's up, maaaan?");
            scr_event_build_dialogue(P_NAME, s_port_hoopz, "I remember you... Guillaume, right? I just got here and I'm looking around. I don't know too much about this place yet.");
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Maaan, Al-Akihabara is great. I don't know why I didn't come here earlier. Can you feel it? The karmic vibes coming from each grain of sand? That oneness with nature that comes from the solitude of the desert, like you're just another one of those grains of sand? That's the cosmic empathy of the universe, man - that thing I've been looking for. I'm not playing for a crowd here... I'm playing for the cosmos. This is the place, man... Al-Akihabara.");
            scr_event_build_dialogue(P_NAME, s_port_hoopz, "Wow, that's amazing...");
            scr_event_build_dialogue("Guillaume", s_port_guillaume, "Yeaaah, man. Anyway, my point is that there's pretty much no water or food out here, so lemme know if there are any music jobs out there. A dwarf's gotta eat.");
            
            //If you're on the wedding quest and time >= 4 and <= 10
            if (scr_quest_get_state("weddingQuest") == 1) and (scr_quest_get_state("musicianCount") <= 3) and (scr_time_get() >= 4) and (scr_time_get() <= 10){
                scr_event_build_dialogue(P_NAME, s_port_hoopz, "(Actually, I am looking for musicians... maybe I can get him to play in my wedding band...");
                var weddingQuestion1 = scr_event_build_choice("Should I ask Guillaume to join my group?", s_port_hoopz);
                
                //Ask Guillaume.
                with scr_event_build_add_choice(weddingQuestion1, "I've got a job for you if you want to play for a wedding.") {
                    scr_event_build_event_snippet(weddingQuestAsk);
                    }
                    
                //Don't ask Guillaume.
                with scr_event_build_add_choice(weddingQuestion1, "Nah, I don't think the band needs an acoustic guitar.") {
                    scr_event_build_dialogue(P_NAME, s_port_hoopz, "That's a bummer, Guillaume. I'll keep an ear out for good music jobs...");
                    }
                
                }
            }
    }
    scr_event_advance(event);
}
