<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
Chatroulette("init");
event_user(10); // Load Cdwarf
event_user(11);
dslPar = ds_list_create();
Chatroulette("partner list");
//Chatroulette("load", dialogCdwarf);

// B2 stuff
global.event = 1;
o_curs.toggleCursor = false;

// Cursor
cursorX = view_xview[0] + (SCREEN_WIDTH / 2);
cursorY = view_yview[0] + (SCREEN_HEIGHT / 2);
cursorXSpeed = 150; // 180
cursorYSpeed = 120; // 120
cursorMomentum = 0; // adds up to give speed boost

// Main box
mainX = 70;
mainY = 32;
mainWidth = 310;
mainHeight = 204;

// Chat box
chatX = mainX + 5;
chatY = mainY + 20;
chatWidth = mainWidth - 10;
chatHeight = 116;

// Response box
respondX = chatX;
respondY = chatY + 120;
respondWidth = chatWidth - 56;
respondHeight = 59;

// Portrait
portraitX = 4;
portraitY = 32;
portraitWidth = 62;
portraitHeight = 65;
portraitSprite = sChatAvatar;
portraitText[0] = "Partner";
portraitText[1] = "You";

// Color Palette
pal[0] = make_color_rgb(224, 224, 224);
pal[1] = make_color_rgb(192, 192, 192);
pal[2] = make_color_rgb(128, 128, 128);

dslLin = ds_list_create();
dslLinCol = ds_list_create();

msg = "I'm Chatroulette.";
Chatroulette("add lines");
msg = "Users online: 23,204,184.";
Chatroulette("add lines");

// buttons
butAmt = 5;
butFoc = -1;
for (i = 0; i &lt; butAmt; i += 1) 
{
    butDwn[i] = 0;
    butWid[i] = 52;
    butHei[i] = 20;
    butSta[i] = 0;
}
butNam[0] = "Start"; butX[0] = 64; butY[0] = 4; butSub[0] = 0;
butNam[1] = "Stop"; butX[1] = 120; butY[1] = 4; butSub[1] = 0;
butNam[2] = "Premium"; butX[2] = 328; butY[2] = 4; butSub[2] = 0;
butNam[3] = "Send"; butX[3] = 323; butY[3] = 172; butHei[3] = 59; butSub[3] = 2;
butLnk[0] = "button next";
butLnk[1] = "button stop";
butLnk[2] = "button premium";
butLnk[3] = "button send";
butLnk[4] = "button autobap";
butX[4] = 268; butY[4] = 9; butHei[4] = 12; butSub[4] = 4; // 268, 9
parAva = -1;
parTyp = 0;
parMsgCou = -1;
youAva = 4;
repSel = 0;
boxPre = 0; // Premium window
boxXXX = 0;
conTim = 0;
conDis = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// debug
var xsp = 0, ysp = 0;
if (keyboard_check(ord('D'))) xsp += 1;
if (keyboard_check(ord('A'))) xsp -= 1;
if (keyboard_check(ord('W'))) ysp -= 1;
if (keyboard_check(ord('S'))) ysp += 1;
if (keyboard_check(vk_space))
{
    view_xview[0] = 0;
    view_yview[0] = 0;
}
view_xview[0] += xsp;
view_yview[0] += ysp;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Step
Chatroulette("step");

// Gamepad
if (global.keyinput_type == KEYINPUT_GAMEPAD)
{
    cursorXOld = cursorX;
    cursorYOld = cursorY;
    var mul = (dt_sec() * 1) + (dt_sec() * cursorMomentum);
    if (MiniKeyPress("up", 1)) cursorY -= cursorYSpeed * mul;
    else if (MiniKeyPress("down", 1)) cursorY += cursorYSpeed * mul;
    if (MiniKeyPress("left", 1)) cursorX -= cursorXSpeed * mul;
    else if (MiniKeyPress("right", 1)) cursorX += cursorXSpeed * mul;
    if (cursorX != cursorXOld || cursorY != cursorYOld)
    {
        cursorMomentum = Goto(cursorMomentum, 1, dt_sec());
    }
    else cursorMomentum = 0;
    cursorX = clamp(cursorX, view_xview[0], view_xview[0] + SCREEN_WIDTH);
    cursorY = clamp(cursorY, view_yview[0], view_yview[0] + SCREEN_HEIGHT);
}
else
{
    cursorX = o_curs.x;
    cursorY = o_curs.y;
}

// Connection / Disconnect
if (conDis &gt; 0)
{
    conDis -= dt_sec();
    if (conDis &lt;= 0) event_user(0);
}
if (conTim &gt; 0)
{
    conTim -= dt_sec();
    if (conTim &lt;= 0)
    {
        conTim = 0;
        Chatroulette("get partner");
    }
}

if (boxPre == 0)
{
    for (i = 0; i &lt; butAmt; i += 1)
    {
        if (i == 3 &amp;&amp; ds_list_size(dslRep) == 0) act = 0; else act = 1;
        if (act &amp;&amp; Chatroulette("mouse", butX[i], butY[i], butX[i] + butWid[i], butY[i] + butHei[i]))
        {
            if (butDwn[i] == 1 &amp;&amp; MiniKeyPress("action", 1) == 0)
            {
                butDwn[i] = 0;
                Chatroulette(butLnk[i]);
            }
            if (MiniKeyPress("action", 1))
            {
                if (butFoc == -1 || butFoc == i) { butFoc = i; butDwn[i] = 1; }
            }
        }
        else butDwn[i] = 0;
    }
    if (MiniKeyPress("action", 1) == 0) butFoc = -1;
}
else
{
    // Close chat box
    dx = (384 / 2) - (170 / 2) + 155;
    dy = (240 / 2) - (60 / 2) + 2;
    boxXXX = 0;
    if (Chatroulette("mouse", dx, dy, dx + 13, dy + 13))
    {
        boxXXX = 1;
        if (butFoc == 5 &amp;&amp; MiniKeyPress("action", 1) == 0)
        {
            butDwn[i] = 0;
            butFoc = -1;
            boxPre = 0;
        }
        if (MiniKeyPress("action", 1))
        {
            if (butFoc == -1 || butFoc == 5) { butFoc = 5; }
        }
    }
    if (MiniKeyPress("action", 1) == 0) butFoc = -1;
    if (butFoc == 5) boxXXX = 2;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="21">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// SCRIPTING: All other NPCS
npcCount = 0;

// Boris
dialogNPC[npcCount] = "
PARTNER AVATAR: 10
SYSTEM: Bio: A flutesman tried and true.
SYSTEM: Location: Industrial Zone
SYSTEM:  
WAIT: 2
PARTNER: Show me your gupples.
WAIT: 3
DISCONNECT";
npcCount += 1;

// Chandragupta
dialogNPC[npcCount] = "
PARTNER AVATAR: 11
SYSTEM: Gender: Male
SYSTEM: Bio: teny
SYSTEM:  
WAIT: 0.5
PARTNER: Sup.
WAIT: 0.5
PARTNER: A/S/L ?
WAIT: 2
PARTNER: ???
WAIT: 2
DISCONNECT";
npcCount += 1;

// Eric
dialogNPC[npcCount] = "
PARTNER AVATAR: 12
SYSTEM: Bio: Gerbil meme aficionado.
SYSTEM:  
PARTNER: You have approximately 15 seconds to garner my interest.
WAIT: 8
PARTNER: Nothing to say for yourself?
WAIT: 2
PARTNER: Sigh...
WAIT: 1
DISCONNECT";
npcCount += 1;

// Fallen Gordo
dialogNPC[npcCount] = "
SPEED: 0.4
PARTNER AVATAR: 13
SYSTEM: Bio: WHERE AM I
SYSTEM:  
WAIT: 1
PARTNER: he;lp
WAIT: 2
DISCONNECT";
npcCount += 1;

// Clive
dialogNPC[npcCount] = "
PARTNER AVATAR: 14
SYSTEM: Location: None of your business.
SYSTEM:  
WAIT: 1
PARTNER: Yo kid. You want some chups?
WAIT: 3
PARTNER: I don't got all day.
WAIT: 2
DISCONNECT";
npcCount += 1;

// Process scripts - No need to touch
for (i = 0; i &lt; npcCount; i += 1) dialogNPC[i] = Chatroulette("script", dialogNPC[i]);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// SCRIPTING: Cyberdwarf
dialogCdwarf = "
//SPEED: 9999
PARTNER AVATAR: 0 // CDwarf Normal
SYSTEM: Bio: ???
SYSTEM: Age: ???
SYSTEM: Blood Type: ???
SYSTEM:  

IF chatrouletteState == 0: GOTO: INTRO_0
GOTO: INTRO_1
    
// First time you see him
INTRO_0 
PARTNER AVATAR: 3 // CDwarf Shocked
PARTNER: - on the grave of my fallen comrades if I see one more -
PARTNER AVATAR: 1 // CDwarf Surprised
PARTNER: P_NAME_S! I finally found you!
PARTNER AVATAR: 0 // CDwarf Normal
YOU AVATAR: 6 // Hoopz Surprised
YOU: Hey Cyberdwarf! I got the router working!
YOU AVATAR: 4 // Hoopz Normal
PARTNER: It looks as if lot of gentledwarfs have their er-_ routers working... I apologize you had to see all this, P_NAME_S.
YOU: See what? This chat program looks pretty handy.
PARTNER: Is that some type of joke? There is nothing on here but languishing schwanze.
YOU: I'm not sure I understand...
PARTNER: Forget it, child. Count yourself lucky that you have not encountered such filth. Now! What have you discovered?
QUEST: charouletteState = 1
GOTO: CYBERSPEAR_QUEST
    
// Subsequent times you see him
INTRO_1
PARTNER: Ah, there you are, P_NAME. Tell me of your progress, child.
GOTO: CYBERSPEAR_QUEST
    
// Cyberspear quest logic
CYBERSPEAR_QUEST
IF csQuest == 7: GOTO: CYBERSPEAR_QUEST_7
IF csQuest == 6: GOTO: CYBERSPEAR_QUEST_6
IF csQuest == 4: GOTO: CYBERSPEAR_QUEST_4
IF csQuest == 2: GOTO: CYBERSPEAR_QUEST_2
GOTO: TOPIC_CHOOSER

CYBERSPEAR_QUEST_7
YOU: Cyberdwarf! I got a piece of the Cyberspear from the bottom of the ruins!
PARTNER: By the slam of jams, you've done well P_NAME_S! I knew the fate of the universe was well placed in you, child.
YOU: Th-thank you, Cyberdw-
PARTNER: Wait, youngster... did you say a piece? A piece of what?
YOU: The Cyberspear! I mean I know you wanted whole thing, but this has gotta be a good start!
PARTNER: By F.A.T.E.-... it seems our journey is merely beginning.
YOU: Well I think I might know where one of the pieces is!
PARTNER: ...
PARTNER: Well?
IF csPieceFactory == 2: GOTO: FACTORY_KNOWN
GOTO: FACTORY_UNKNOWN

FACTORY_KNOWN
YOU: Oh, yeah it's the Factory in the Wasteland!
PARTNER: What in 'paeth's name are you waiting for then, get to the Wasteland!
YOU: Yessir, Cyberdwarf! I won't let you down!
PARTNER: The only thing letting me down is the array of indecency in this correspondence protocol.
PARTNER: Now, do you need anything else from me before you venture forth on your glorious journey?
GOTO: TOPIC_CHOOSER

FACTORY_UNKNOWN
YOU: Well, er... I've seen it, but I don't really know where it is.
PARTNER: Think child! What about the area do you remember.
YOU: Umm... it was really industrial lookin' with lots of machines and tubes and things. I don't remember much I had just hatched from this egg, you see...
PARTNER: Egg? Machinery?
YOU: Yeah I was really sleepy when I got out of the egg, it was hard to really think.
PARTNER: A power drain perchance... P_NAME! Make haste to the Factory!
YOU: The Factory?
PARTNER: Aye, northeast of the Tir na nOg slums. Nestled within the trash heaps of the Wasteland. I am surprised you haven't yet made it there. There is a settlement at the foot of the Factory, an engineer is there... Sepideh. She can grant you access to the Factory and in it, you can find another piece of the Lance of Destiny.
YOU: Okay, Sepideh near the Factory in the Wasteland. Got it!
QUEST: csPieceFactory = 2
GOTO: TOPIC_CHOOSER

CYBERSPEAR_QUEST_6
PARTNER: Dally not teen baller. Calvary's Spear hides in the depths of the ruins. F.A.T.E. awaits the brave and fortune favors the bold.
GOTO: TOPIC_CHOOSER

CYBERSPEAR_QUEST_4
IF csDiasSeen == 4: GOTO: DIAS_0
GOTO: DIAS_1

DIAS_0
YOU: Cyberdwarf, I found the room with the Cyberspear.
PARTNER: Glory b-ball! And what of it child? Doth thou carry the Sacred Lance?
YOU AVATAR: 7 // Hoopz Sad
YOU: ... umm, nay I uhh... doth not carry it.
YOU AVATAR: 4 // Hoopz Normal
PARTNER: I see. That must mean defensive protocols in the Ruins were established. The Spear must be deeper within the structure. You must delve again, youngster.
GOTO: DIAS_2

DIAS_1
YOU: We have a problem...
PARTNER: I have forseen this already, young baller. The Spear is not there.
YOU: How did you know?
PARTNER: The Demon Cuchulainn would already wield such a weapon if it was as easy to procure as upon the Altar. No, the Cyberspear must shroud itself in the shadows that lie in the depths of the Ruins.
GOTO: DIAS_2

DIAS_2
QUEST: csDiasSeen = 2
YOU: You mean... delve... deeper?
PARTNER: Indeed. But fear not. I have been 'in communicado' with my troops at L.O.N.G.I.N.U.S., Wiglaf has already dispatched an assault force to aid your incursion depths of the Ruins.
          
REPLY &gt; AM_I_READY: Am I up for this?
REPLY &gt; LET_ME_AT_IT: Let me at this spear!

AM_I_READY
YOU: Do... do you think I'm ready?
PARTNER: Have you learned nothing, child? I not only think, I BELIEVE it to be true. I believe that the Spirit of the Universe bestows upon you undeniable abilities. You are not only ready for this, you're very purpose on this abyssmal spacecraft is to fullful this task. Make haste!
YOU: Alright let's do it!
GOTO: SPELUNK

LET_ME_AT_IT
PARTNER: Make haste!
GOTO: SPELUNK

SPELUNK
QUEST: csQuest = 5
Find the L.O.N.G.I.N.U.S. operatives inside the AI Ruins, and spelunk until the prize is won!
GOTO: TOPIC_CHOOSER

CYBERSPEAR_QUEST_2
YOU: Well nothing yet. I'm close to the AI Ruins though!
PARTNER: Good, but make haste, my child! The Spear of Destiny is the key to ending C-Lainn's reign of terror upon the hapless Dwarfs. Vindication will come at the tip of its point!
YOU: You got it C-Dwarf!
PARTNER: Cyberdwarf.
YOU: Oh uh...
PARTNER: Cyberdwarf is my name.
YOU: ... sorry, yes Cyberdwarf...
PARTNER: Careful lest insolence become your character, youngster. We have a job to do, now carry forth and find the Altar of Golgotha, within its techno-sanctity is the Holy Spear. Bring it to me!
QUEST: csQuest = 3
GOTO: TOPIC_CHOOSER

TOPIC_CHOOSER
PARTNER: What do you wish of me, youngster?
IF csQuest &gt;= 1: REPLY &gt; ASK_CYBERSPEAR: I have a question about the cyberspear.
IF csPieceFactory == 1: REPLY &gt; ASK_PIECE: About this other cyberspear piece...
IF csPieceFactory &gt;= 2: REPLY &gt; ASK_FACTORY: I should really go check out the Factory...
IF csPieceGrem &gt;= 1: REPLY &gt; ASK_GREMLIN: I am thinking about the spear piece I gave the Cybergremlins...
REPLY &gt; EXIT: Actually, nevermind. I think I know what to do.

ASK_CYBERSPEAR
PARTNER: Knowledge gets you only halfcourt, it is up to your own feet to get you to the hoop. We are men of action P_NAME_F, but if it will help your understanding of your glorious destiny, then I shall serve to answer.
GOTO: CYBERSPEAR_QUEST

EXIT
PARTNER: You best, child. You best.
DISCONNECT
";

dialogCdwarf = Chatroulette("script", dialogCdwarf);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw
scr_font(global.fn_chat, c_black, 0);
vx = view_xview[0];
vy = view_yview[0];

// White Background
draw_sprite_ext(s1x1, 0, vx, vy, SCREEN_WIDTH, SCREEN_HEIGHT, 0, c_white, 1);

// Banner and logo
draw_sprite_ext(sChatBanner, 0, vx, vy, 384, 1, 0, c_white, 1);
draw_sprite_ext(sChatLogo, 0, vx + 6, vy + 4, 1, 1, 0, c_white, 1);

// Auto-Bap Checkbox
draw_sprite_ext(sChatCheckbox, abs(butSta[4] - butDwn[4]), vx + 268, vy + 9, 1, 1, 0, c_white, 1);

// Avatar boxes
ava = parAva;
drx = vx + portraitX; //5;
dry = vy + portraitY; //48;
draw_set_halign(1);
for (i = 0; i &lt; 2; i += 1)
{
    draw_sprite_ext(s1x1, 0, drx, dry, portraitWidth, portraitHeight, 0, pal[1], 1);
    draw_sprite_ext(s1x1, 0, drx, dry, portraitWidth, 15, 0, pal[0], 1);
    draw_sprite_ext(s1x1, 0, drx, dry, portraitWidth, 1, 0, pal[2], 1);
    draw_sprite_ext(s1x1, 0, drx, dry + portraitHeight - 1, portraitWidth, 1, 0, pal[2], 1);
    draw_sprite_ext(s1x1, 0, drx, dry, 1, portraitHeight, 0, pal[2], 1);
    draw_sprite_ext(s1x1, 0, drx + portraitWidth - 1, dry, 1, portraitHeight, 0, pal[2], 1);
    draw_text(drx + (portraitWidth / 2), dry + 5, portraitText[i]);
    if (parAva == -1) draw_sprite_ext(s1x1, 0, drx + 1, dry + 16, 60, 48, 0, c_black, 1);
    else draw_sprite_ext(portraitSprite, ava, drx + 1, dry + 16, 1, 1, 0, c_white, 1);
    dry += 71;
    ava = youAva;
}
draw_set_halign(0);

// Main chat
drx = vx + mainX;
dry = vy + mainY;
draw_sprite_ext(s1x1, 0, drx, dry, mainWidth, mainHeight, 0, pal[1], 1);
draw_sprite_ext(s1x1, 0, drx + 1, dry + 1 + 15, mainWidth - 2, mainHeight - 2 - 15, 0, c_white, 1); // white
draw_sprite_ext(s1x1, 0, drx, dry, mainWidth, 15, 0, pal[0], 1);
draw_sprite_ext(s1x1, 0, drx, dry, mainWidth, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry + mainHeight - 1, mainWidth, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry, 1, mainHeight, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx + mainWidth - 1, dry, 1, mainHeight, 0, pal[2], 1);
str = "Text chat";
if (parTyp == 1) str += " - partner is typing a message";
draw_text(drx + 6, dry + 5, str);

// Chat window
drx = vx + chatX;
dry = vy + chatY;
drw = chatWidth;
drh = chatHeight;
draw_sprite_ext(s1x1, 0, drx, dry, drw, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry + drh - 1, drw, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry, 1, drh, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx + drw - 1, dry, 1, drh, 0, pal[2], 1);
for (i = 0; i &lt; ds_list_size(dslLin); i += 1)
{
    msg = dslLin[| i];
    draw_set_color(c_black);
    draw_text(drx + 5, dry + 5 + (i * 14), msg);
    if (string_copy(msg, 1, 4) == "You:") { draw_set_color(c_blue); draw_text(drx + 5, dry + 5 + (i * 14), "You:"); }
    if (string_copy(msg, 1, 8) == "Partner:") { draw_set_color(c_red); draw_text(drx + 5, dry + 5 + (i * 14), "Partner:"); }
}
draw_set_color(c_black);

// Responses
drx = vx + respondX;
dry = vy + respondY;
drw = respondWidth;
drh = respondHeight;
draw_sprite_ext(s1x1, 0, drx, dry, drw, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry + drh - 1, drw, 1, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx, dry, 1, drh, 0, pal[2], 1);
draw_sprite_ext(s1x1, 0, drx + drw - 1, dry, 1, drh, 0, pal[2], 1);
drx += 1;
dry += 1;
if (chtRepCou == 0)
{
    for (i = 0; i &lt; ds_list_size(dslRep); i += 1)
    {
        // Hilight based on mouse
        if (repSel == i) draw_sprite_ext(s1x1, 0, drx, dry, drw - 2, 14, 0, make_color_rgb(0, 0, 132), 1);
        if (boxPre == 0 &amp;&amp; Chatroulette("mouse", drx - vx, dry - vy, drx - vx + (drw - 2), dry - vy + 13))
        {
            if (MiniKeyPress("action"))
            {
                repSel = i;
            }
            // Selection box
            slc = make_color_rgb(255, 255, 123);
            for (var slx = 0; slx &lt; drw - 2; slx += 2)
            {
                draw_sprite_ext(s1x1, 0, drx + slx, dry, 1, 1, 0, slc, 1);
                draw_sprite_ext(s1x1, 0, drx + slx + 1, dry + 13, 1, 1, 0, slc, 1);
            }
            for (var sly = 0; sly &lt; 13; sly += 2)
            {
                draw_sprite_ext(s1x1, 0, drx, dry + sly, 1, 1, 0, slc, 1);
                draw_sprite_ext(s1x1, 0, drx + (drw - 3), dry + sly + 1, 1, 1, 0, slc, 1);
            }
        }
        if (repSel == i) draw_set_color(c_white); else draw_set_color(c_black);
        draw_text(drx + 4, dry + 3, dslRep[| i]);
        dry += 14;
    }
}

// All Buttons
scr_font(-1, c_black, 1, 1);
for (i = 0; i &lt; butAmt - 1; i += 1)
{
    sub = butSub[i] + butDwn[i];
    if (i == 3 &amp;&amp; ds_list_size(dslRep) == 0) act = 0; else act = 1; //sub = 8;
    if (i == 3 &amp;&amp; chtRepCou != 0) act = 0; // SEND
    drx = vx + butX[i];
    dry = vy + butY[i];
    draw_sprite_ext(sChatButton, sub, drx, dry, 1, 1, 0, c_white, 1);
    
    drx += butDwn[i];
    dry += butDwn[i];
    if (act == 1) draw_text(drx + floor(butWid[i] / 2), dry + floor(butHei[i] / 2), butNam[i]);
    else
    {
        draw_set_color(c_white);
        draw_text(drx + floor(butWid[i] / 2) + 1, dry + floor(butHei[i] / 2) + 1, butNam[i]);
        draw_set_color(make_color_rgb(122, 122, 122));
        draw_text(drx + floor(butWid[i] / 2), dry + floor(butHei[i] / 2), butNam[i]);
    }
}
scr_font(-1, c_black, 0, 0);

// Premium Pop-Up
if (boxPre)
{
    draw_sprite_ext(s1x1, 0, vx, vy, 384, 240, 0, c_black, 0.5);
    dx = vx + (384 / 2) - (170 / 2);
    dy = vy + (240 / 2) - (60 / 2);
    draw_sprite(sChatPremium, 0, dx, dy);
    draw_text(dx + 5, dy + 5, "Premium");
    scr_font(-1, -1, 1, 1);
    draw_sprite(sChatX, boxXXX, dx + 155, dy + 2);
    draw_text(dx + (170 / 2), dy + (60 / 2) + 8, "You already have premium.# #Thank you for your patronage.");
}
scr_font(-1, c_black, 0, 0);

// Cursor
draw_sprite(sChatMouse, 0, cursorX, cursorY);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
