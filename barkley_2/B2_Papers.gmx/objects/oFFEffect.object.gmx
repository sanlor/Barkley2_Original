<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_thrax_bonked01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
xim = 0;
tim = 0;
txt = "9999";
txtDir = 0;
txtSpd = 360; // uses dt_sec
sndFl0 = 0;
sndFl1 = 0;
sndFl2 = 0; // Barbell hit
sndEnd = 0;

helTim = 0;
helRot = 45;
helY = -28;
helX = -24;

barTim = 0;
barX = 200;
barY = -24;
barRot = 0;
barRotSpd = 720;
barGrv = -50;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="72">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw game BG
draw_sprite(sprite2, 0, 0, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw
scr_font(global.fn_2c, c_white);
var dvv = (1 / 64) * 2; // so i don't have to muck with radius
shadow_alpha = 0.4;
var _radius = 8;
var wht = 0;
var red = 0;
var alp = 1;

if (xim &gt; 0 &amp;&amp; xim &lt; 10)
{
    if (paused() == 0) xim += dt_sec() * 10;
}
if (tim == 0) 
{
    draw_sprite_ext(s_lensflare, 0, x, y, _radius * dvv, (_radius * 0.5) * dvv, 0, c_black, shadow_alpha * alp);
    draw_sprite_ext(sprite_index, floor(xim), x, y, -1, 1, 0, c_white, 1);
}

// Barbell
draw_sprite_ext(sPrisonBarbell, 0, xstart + barX, ystart + barY, 1, 1, barRot, c_white, 1);
if (barX &gt; 0 &amp;&amp; barTim == 0)
{
    barX -= 200 * dt_sec();
    barRot += barRotSpd * dt_sec();
    exit;
}
else { barTim = 0.001; xim = max(0.001, xim); }
if (barTim &gt; 0 &amp;&amp; barY &lt; 0)
{
    barX += 60 * dt_sec();
    barRot += barRotSpd * dt_sec() * 1.43;
    barY += barGrv * dt_sec();
    barGrv += 250 * dt_sec();
}

if (xim &gt; 1 &amp;&amp; txtDir &gt;= 0 &amp;&amp; txtDir &lt;= 270)
{
    if (sndFl2 == 0) { sndFl2 = 1; audio_play_sound_ext("sn_generic_metalres01", 10, 0); }
    var dir = min(txtDir, 180);
    draw_text(x + 16, y - 32 - abs(lengthdir_x(16, dir + 90)), txt);
    if (paused() == 0) txtDir += txtSpd * dt_sec();
}

if (xim &gt;= 3) helTim = max(0.001, helTim);
if (helTim &gt; 0)
{
    draw_sprite_ext(sprite_index, 11, xstart + helX, ystart + helY, -1, 1, helRot, c_white, 1);
    if (helY != 0) helX -= 30 * dt_sec();
    helY = min(0, helY + 100 * dt_sec());
    if (helY != 0) helRot = min(90, helRot + (270 * dt_sec()));
}

if (xim &lt; 10) exit;

if (tim &gt;= 1 &amp;&amp; tim &lt;= 2)
{
    if (sndFl0 == 0) { sndFl0 = 1; audio_play_sound_ext("sn_flashing01", 10, 0); }
    var adj = tim - 1;
    draw_sprite_ext(s1x1, 0, floor(view_xview[0]), floor(view_yview[0]), 385, 241, 0, c_white, -1 + (abs(adj - 1) * 2));
}

if (tim &gt;= 2.5 &amp;&amp; tim &lt;= 3.5)
{
    if (sndFl1 == 0) { sndFl1 = 1; audio_play_sound_ext("sn_flashing01", 10, 0); }
    var adj = tim - 2.5;
    draw_sprite_ext(s1x1, 0, floor(view_xview[0]), floor(view_yview[0]), 385, 241, 0, c_white, -1 + (abs(adj - 1) * 2));
}

if (tim &gt;= 2.5 &amp;&amp; tim &lt;= 4.5)
{
    var adj = tim - 2.5;
    wht = abs((adj / 2) - 1);
    alp = 1 - (adj / 4);
}
else if (tim &gt;= 2.5) alp = 0.5;

if (tim &gt;= 4.5)
{
    if (sndEnd == 0) { sndEnd = 1; audio_play_sound_ext("sn_withering01", 10, 0); }
    x = xstart + round(lengthdir_x(0.66, tim * 1080));
}

if (tim &gt;= 5.5) { red = min((tim - 5.5) / 2, 1); alp -= red / 4; }

if (tim &gt;= 7.5) { alp -= (tim - 6.5) / 8; }

draw_sprite_ext(s_lensflare, 0, x, y, _radius * dvv, (_radius * 0.5) * dvv, 0, c_black, shadow_alpha * alp);
draw_sprite_ext(sprite_index, 10, x, y, -1, 1, 0, merge_color(c_white, c_red, red), alp);

if (wht != 0)
{
    draw_set_blend_mode(bm_add);
    d3d_set_fog(true, c_white, 0, 0);
    draw_sprite_ext(sprite_index, 10, x, y, -1, 1, 0, c_white, wht);
    d3d_set_fog(false, c_white, 0, 0);
    draw_set_blend_mode(bm_normal);
}

if (tim &gt;= 9) 
{
    obj = instance_create(xstart + barX, ystart + barY, oDummy);
    obj.sprite_index = sPrisonBarbell;
    obj.image_single = 0;
    obj.image_angle = barRot;
    obj.depth = -obj.y;
    obj = instance_create(xstart + helX, ystart + helY, oDummy);
    obj.image_xscale = -1;
    obj.sprite_index = sprite_index;
    obj.image_single = 11;
    obj.image_angle = helRot;
    obj.depth = -obj.y;
    instance_destroy();
}

if (paused() == 0) tim += dt_sec();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
instance_create(x, y, object_index);
exit;

txtDir = 0;
tim = 0;
sndFl0 = 0;
sndFl1 = 0;
sndEnd = 0;
xim = 0;

helTim = 0;
helRot = 45;
helY = -28;
helX = -24;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
