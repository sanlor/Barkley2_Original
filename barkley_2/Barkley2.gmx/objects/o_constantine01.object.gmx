<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_constantinePee01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oDuergar</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
name = "constantine";
event_inherited();
if (guplur) exit;

scr_event_hook_onCommon(event_cinema);
timer_delay = 5;
audioemit = audio_emitter_create();

// TNN //
if scr_area_get() = "tnn" then
    {
    if Quest("gutterEscape") == 1 or scr_time_db("tnnCurfew") == "during" then scr_event_interactive_deactivate();
    }

// Event for Peeing Duergar, involved in the Governor Quest.
// govQuest is the main quest in Tir na Nog.
// govQuest = 2 means you have to retrieve Duergar piss.
// govQuest = 3 means you already have Duergar piss.

// TNN //
if scr_area_get() = "tnn" then  
{  
script = "
IF body == governor | GOTO | GOVNA
IF govQuest == 2 | IF constantineState == 1 | GOTO | NEEDPISSTALKED
IF govQuest == 2 | IF constantineState != 1 | GOTO | NEEDPISSNOTTALKED
IF constantineState == 1 | GOTO | TALKED
IF constantineState != 1 | GOTO | NOTTALKED
IF constantineState == 2 | GOTO | PISSGOT

GOVNA
DIALOG | Constantine         | `w1`*Gulp*`w0` G-governor Elagabalus! I had no idea you were around here. My apologies, I did not intend for you to see this display of piss.
DIALOG | Governor Elagabalus | I, the real governor, forgive you....

INTERCEPT
CHOICE | Intercept stream?
REPLY  | YES | Yes
REPLY  | NO  | No

YES
DIALOG | P_NAME | Sorry about this!!!
MOVETO | o_cts_hoopz | o_cinema9 | MOVE_NORMAL
WAIT   | 0
USEAT  | NORTH
WAIT   | 0.25
SOUND  | sn_cupfilling01
WAIT   | 0.5
NOTIFY | Got the Number 1 (Duergar Urine)
ITEM   | Duergar Urine | 1
ITEM   | Sterile Vial  | -1
DIALOG | Constantine | What the hell are you doing!? 
DIALOG | P_NAME      | Umm, I promise it's going for a good cause. I mean, this is really important and I really, really have to have it and I promise I won't use this recklessly or in a way that contradicts your values or sense of propriety. I mean, uh... bye!
DIALOG | Constantine | You sonnuva bitch! No one touches a duergars piss and lives!
Create | o_lafferty01 | " + string(o_cinema28.x) + " | " + string(o_cinema28.y) + "
Create | o_vikingstad01 | " + string(o_cinema29.x) + " | " + string(o_cinema29.y) + "
MOVETO | o_lafferty01 | o_cinema30 | MOVE_FAST
MOVETO | o_vikingstad01 | o_cinema31 | MOVE_FAST
DIALOG | P_NAME      | I didn't mean any-
WAIT   | 1
LOOK   | o_lafferty01 | EAST
LOOK   | o_vikingstad01 | NORTHEAST
SURPRISEAT | SOUTHWEST
WAIT   | 0
LOOK   | o_lafferty01 | EAST
LOOK   | o_vikingstad01 | NORTHEAST
DIALOG | Lafferty   | What the HELL is going on over here?
DIALOG | Vikingstad | We could hear a piss stream being interrupted all the way from the mortgage office. It was you wasn't it, you dwarf fucker?!
DIALOG | P_NAME = s_port_hoopzShock | W-what? But I-
DIALOG | Lafferty   | Stealing a duergars piss is a criminal offense... What do you have to say for yourself, huh?
DIALOG | P_NAME = s_port_hoopzShock | I-
DIALOG | Lafferty   | `s1`Shut the hell up!`s0` 
DIALOG | Lafferty   | You are going to pay dearly for this!
DIALOG | Vikingstad | We're going to hand you over to the Gank Squad! Prepare to spend the rest of your days behind bars, asshole!
DIALOG | P_NAME = s_port_hoopzShock | N-no! This can't be happening!
" +
//TODO: add in the standard "arrest animation" if we use it (we talked about the ELECTROSHOCK animation)
"
WAIT   | 0.25
FADE   | 1 | 2.0
WAIT   | 3.0
QUEST  | govQuest = 3
QUEST  | constantineState = 2
QUEST  | prisonArrested = 6
QUEST  | prisonIntro = 1
" +
//TODO: the music should change to the PRISON MUSIC
"
Teleport | r_pri_prisonGate01 | 464 | 1072

NO
DIALOG | P_NAME      | Um, no, I wasn't enjoying the show... uh, have a good day.
DIALOG | Constantine | Clispaeth Christ, kid. 
DIALOG | P_NAME      | (Maybe I should, uh, follow the stream underground. There could be a spot there with a `w1``mq`[Yellow Stream]`rt``w0` somewhere...)
QUEST  | constantineState = 1

GOVNAH
DIALOG | Constantine | Just markin' the turf, boss.

PISSGOT
DIALOG | Constantine | Clispaeth Christ, you are a fucking weirdo.

NEEDPISSTALKED
DIALOG | Constantine | I told you to piss off, kid! What don't you get? I'm a little busy here!
DIALOG | P_NAME      | Yeah, I know. Um, this is going to sound a little weird, but um... I really need to borrow some of your, uh...
DIALOG | Constantine | Enjoying the show? You want to take a fucking picture or something?
DIALOG | P_NAME      | (Dang, I don't know if I can get away with this... Should I do it anyway?)
GOTO   | INTERCEPT

NEEDPISSNOTTALKED
DIALOG | Constantine | Piss off, kid! I'm a little busy!
DIALOG | P_NAME      | Um, this is going to sound a little weird, but um... I really need to borrow some of your, uh...
DIALOG | Constantine | Enjoying the show? You want to take a fucking picture or something?
DIALOG | P_NAME      | (Dang, I don't know if I can get away with this... Should I do it anyway?)
GOTO   | INTERCEPT

TALKED
DIALOG | Constantine | I told you to piss off! I'm busy!
DIALOG | P_NAME      | Oops. Sorry!

NOTTALKED
DIALOG | Constantine | I'm busy, kid.
DIALOG | P_NAME      | Um... sorry.
QUEST  | constantineState = 1
";  
}
else script = "";  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inherit //
event_inherited();

// Pause //
if paused() exit;

// Sound //
if _active = true then
    {
    if timer_delay &gt; 0 then
        {
        timer_delay -= dt();
        if timer_delay &lt;= 0 then 
            {
            audio_emitter_falloff(audioemit,80,400,1);
            audio_emitter_gain(audioemit,0.35 * global.sfx_gain_master);
            audio_emitter_position(audioemit,x,y,0);
            audio_play_sound_on_ext(audioemit,"sn_occupiedduergar_pissing",true,80);
            }
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Stop audio
event_inherited();
audio_stop_sound_ext("sn_occupiedduergar_pissing");
audio_emitter_free(audioemit);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>23,36</point>
    <point>23,23</point>
  </PhysicsShapePoints>
</object>
