<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Setup //
alpha = 0;
alpha_goal = 1;
alpha_content = -5;
alpha_content_goal = 1;

// Music //
previous_music = global.bgm_current_music;
audio_set_bgm("mus_mg_creepypasta");

// Setup shit //
timer_spooky = 100 + irandom(100);
timer_spooky_off = 0;
scrolling = 0;
scrolling_limit = 1050;
torch_image = 0;

// Story shit //
story_title = "Tale of the Dark Death";
story_author = "by DarcknessMaster223";
story_rating = 2;
story_text =  "";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Event //
global.event = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Pause //
if paused() then exit;

// Exit //
if scr_input_check_pressed(KEYID_HOLSTER, PLAYER1) then
    {
    alpha_goal = 0;
    alpha_content_goal = 0;
    }

// Destruction //
if alpha = 0 and alpha_content = 0 then
    {
    audio_set_bgm(previous_music);
    global.event = false;
    instance_destroy();
    }
    
// Scroll //
if scr_input_check_held(KEYID_UP, PLAYER1) or mouse_wheel_up() then
    {
    if scrolling &gt; 0 then scrolling -= 180 * dt_sec();
    else scrolling = 0;
    }
else if scr_input_check_held(KEYID_DOWN, PLAYER1) or mouse_wheel_down() then
    {
    if scrolling &lt; scrolling_limit then scrolling += 180 * dt_sec();
    else scrolling = scrolling_limit;
    }
    
// Image //
if torch_image &lt; 4 then torch_image += 0.5 * dt();
else torch_image = 0;

// Read far enough and you will get SPOOKED //
for (i=0; i&lt;scare_amount; i+=1;)
    {
    if scrolling &gt;= scare_position[i] - 180 * dt_sec() and scrolling &lt;= scare_position[i] + 180 * dt_sec() and scare_used[i] = false then
        {
        audio_play_sound_at_xy(scare_sound[i], false, 10, view_xview + 192, view_yview + 120);
        scare_visible[i] = true;
        scare_timer[i] = 8;
        scare_used[i] = true;
        }
    }
    
// Alpha //
if alpha &lt; alpha_goal then alpha += 0.1;
else if alpha &gt; alpha_goal then alpha -= 0.1;

// Content alpha //
if alpha_content &lt; alpha_content_goal then alpha_content += 0.1;
else if alpha_content &gt; alpha_content_goal then alpha_content -= 0.1;

// Spooky vision alpha //
for (i=0; i&lt;scare_amount; i+=1;)
    {
    if scare_timer[i] &gt; 0 then 
        {
        // Tick down //
        scare_timer[i] -= dt();
        
        // Event //
        if scare_timer[i] &lt;= 0 then scare_visible[i] = false;
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Background //
draw_set_alpha(alpha);
draw_set_color(c_black);
draw_rectangle(view_xview - 2, view_yview - 2, view_xview + 386, view_yview + 242, false);
draw_sprite_tiled_ext(s_mg_creepypasta_backdrop, 0, 0, 0, 1, 1, c_white, alpha_content);

// Title box //
draw_sprite_ext(s_mg_creepypasta_backdrop, 1, view_xview + 192, view_yview + 64 - scrolling, 1, 1, 0, c_white, alpha_content);

// Background dimm //
draw_set_alpha(alpha_content * 0.5);
draw_set_color(c_black);
draw_rectangle(view_xview + 20, view_yview + 118 - scrolling, view_xview + 364, view_yview + scrolling_limit + 216 - scrolling, false);

// Prepare to draw some creepy pastas //
draw_set_color(c_red);
draw_set_alpha(alpha_content);
draw_set_halign(fa_center);
draw_set_font(global.fn_1);

// Title //
draw_text(view_xview + 192, view_yview + 37 - scrolling, story_title);
draw_set_font(global.fn_small);

// Author //
draw_set_color(c_white);
draw_text(view_xview + 192, view_yview + 58 - scrolling, story_author);

// Story //
draw_set_halign(fa_left);
draw_text_ext(view_xview + 24, view_yview + 126 - scrolling, story_text, 10, 334);

// Rating //
for (i=0; i&lt;5; i+=1;) 
    {
    if story_rating &gt; i then draw_sprite(s_mg_creepypasta_rating_star, 0, view_xview + 160 + i * 18, view_yview + 80 - scrolling);
    else draw_sprite(s_mg_creepypasta_rating_star, 1, view_xview + 160 + i * 18, view_yview + 80 - scrolling); 
    }

// Draw torches //
draw_sprite(s_mg_creepypasta_torch, torch_image, view_xview + 40, view_yview + 48 - scrolling);
draw_sprite(s_mg_creepypasta_torch, torch_image, view_xview + 344, view_yview + 48 - scrolling);

// Scares //
for (i=0; i&lt;scare_amount; i+=1;) 
    {
    if scare_visible[i] = true then draw_sprite_ext(scare_image[i], 0, view_xview + 192, view_yview + 120, 1, 1, 0, c_white, scare_alpha[i]);
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>56,72</point>
    <point>72,72</point>
  </PhysicsShapePoints>
</object>
