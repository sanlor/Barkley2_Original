<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_lugner01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oDuergar</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
name = "lugner";
event_inherited();
if (guplur) exit;

scr_event_hook_onInteract(event_cinema);


scr_entity_animation_define("lugnerShot", s_lugnerShot01, 0, 10, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("lugnerDead", s_lugnerShot01, 9, 1, 0);
scr_entity_animation_define("lugnerTimid", s_lugnerTimid01, 0, 1, 0);
scr_entity_animation_define("lugnerEvil", s_lugnerEvil01, 0, 1, 0);

// These scripts are for the Dwarf Crushing Quest, see o_tnn_batteredDwarf01,
// o_slag01 and o_tnn_crusher01 for the rest of the events and objects

if (room == r_tnn_warehouse01)
{
    if (Quest("lugnerQuest") == 4) then scr_event_interactive_activate();     
    else if (Quest("lugnerQuest") == 5) then scr_event_set_object(o_lugner01, 40, 568); 
    else if (Quest("lugnerQuest") == 6) then scr_event_interactive_activate();
    else scr_event_interactive_deactivate();
}
    
/*  
======================================================
    This is the Tir na nOg Lugner's Script it contains
    everything but the Slag confrontation and the
    Crusher Scene
======================================================
            Quest for Lugner
    States:
        0 = not talked
        1 = talked
    Quest
        1 = you've turned down lugner and he wants nothing to do with you QUEST UNAVAILABLE
        2 = you've told Lugner you can't help him right away but this leave the quest open for later
        3 = you've accepted the quest from Lugner, next stop Slag, then Giuseppe
        4 = Giuseppe refuses to give you any dwarfs. The player can get "Fuck you" dialogue from Slag and Lugner
        5 = The player has gained some dwarfs and has chosen the Slag path. (Lugner disappears)
        6 = The player has gained some dwarfs and has chosen the Lugner path.
        7 = End of Lugner route. You've pressed the button and killed the dwarfs. The player talks to Slag and the quest ends.
        8 = Spoken to Lugner, the player can press the button or just leave entirely for some reason.
        9 = End of Slag route. Lugner is dead.
        10 = You had no dwarfs for Lugner in 6, so he's done with you.
*/
script = " 
IF body == governor  | GOTO | GOVERNOR              
IF lugnerQuest == 1  | GOTO | BEAT_UP_DWARF
IF lugnerQuest == 2  | GOTO | TRY_AGAIN
IF lugnerQuest == 3  | GOTO | NO_DWARFS_YET
IF lugnerQuest == 4  | GOTO | ZERO_DWARFS
IF lugnerQuest == 6  | GOTO | DWARFS_BROUGHT
IF lugnerQuest == 7  | GOTO | GET_LOST
IF lugnerQuest == 8  | GOTO | LUGNER_BUTTON_REPEAT    
IF lugnerQuest == 10 | GOTO | OUT_OF_SIGHT 
           
GOVERNOR 
DIALOG | Lugner | Your cruelness! Don't worry, this scumbag will be swept up before you know it. 

OUT_OF_SIGHT
DIALOG | Lugner | Get out of my sight.
             
BEAT_UP_DWARF
DIALOG | Lugner | Still worried about this guy? Don't be. I've got this covered.
 
TRY_AGAIN
DIALOG | Lugner | Had a change of heart? The cargo ships still haven't left yet.
GOTO   | DWARF_CHOICE

NO_DWARFS_YET
DIALOG | Lugner | Hey pal, any luck yet?
DIALOG | P_NAME | Not yet, sorry.
DIALOG | Lugner | Well don't take too long. That cargo ships leave today.
        
ZERO_DWARFS
DIALOG | Lugner | Hey, you're back. I didn't think I'd see you again.
DIALOG | P_NAME | I really wanted to help you out. I hate seeing the Dwarfs live like this.
DIALOG | Lugner | I know. It breaks my heart. I'm just glad you were able to help me save a couple from this mess. Now let's see how many you've brought me...
DIALOG | Lugner | Wait a minute, where are they?
DIALOG | P_NAME | Giuseppe didn't believe me. He wouldn't send any of them.
DIALOG | Lugner | Are you kidding me? You couldn't get ANY?
DIALOG | P_NAME = s_port_hoopzSad | No, I-
DIALOG | Lugner | For fuck's sake, what the hell good are you? It's not like I asked you to do very much here. Just bring a couple of Dwarfs here, that's it. There's tons of these idiots running around out there, you didn't have to get them all from Giuseppe.
DIALOG | P_NAME = s_port_hoopzSad | I'm sorry...
DIALOG | Lugner | Well all these dwarfs are going to be dead and it's going to be your fault.
DIALOG | P_NAME = s_port_hoopzSad | ...
DIALOG | Lugner | Get out of my sight, idiot.
QUEST  | lugnerQuest = 10

DWARFS_BROUGHT 
DIALOG | Lugner = s_port_lugnerHappy | Hey, you're back. I didn't think I'd see you again.
DIALOG | P_NAME | I really wanted to help you out. I hate seeing the Dwarfs live like this.
DIALOG | Lugner = s_port_lugnerHappy | I know. It breaks my heart. I'm just glad you were able to help me save a couple from this mess. Now let's see how many you've brought me...
IF dwarfCustody &lt;= 14 | DIALOG | Lugner = s_port_lugnerHappy | You got some. That's good! Not as many as I hoped, but this is better than nothing. There should be more than enough food for the trip in there already. Thought you'd bring a little more, so I guess I over prepared.                
IF dwarfCustody == 15 | DIALOG | Lugner = s_port_lugnerThilled | Wow, you got a lot of them! Nice work. I knew I could count on you. There should be enough food for the trip in there already. Had a feeling you'd come through, so I got a little extra.               
DIALOG | Lugner | I guess that's everything. Now I just need to load the container into the ship.
DIALOG | Lugner = s_port_lugnerHappy | This never gets old. Always the same excitement, just a couple button presses away.
DIALOG | P_NAME = s_port_hoopzHappy  | Yeah!
DIALOG | Lugner = s_port_lugnerHappy | Ok, it's ready. Do you want to have the honors?
DIALOG | P_NAME | What do I have to do?
DIALOG | Lugner = s_port_lugnerHappy | There's a little green button right here. All you need to do is push it. They'll be loaded on the ship, and the ship will automatically start the engines and embark on its course to the Sombrero Galaxy.
DIALOG | P_NAME | Just that one little button means so much to them.
DIALOG | Lugner = s_port_lugnerThilled | That's right, just one little button. Go ahead and press it if you want.
" +
//ADVANCE TIME!
"
QUEST | time += 1
QUEST | lugnerQuest = 8
EVENT | o_cts_lugnerlever01 | 1 
           
LUGNER_BUTTON_REPEAT 
DIALOG | Lugner = s_port_lugnerThilled | Aren't you going to press the button?
            
GET_LOST
DIALOG | Lugner = s_port_lugnerHappy | You're still here? Get lost. Let me enjoy the moment.
CHOICE | What the heck do I do?
REPLY  | HOOPZ_REVENGE | Seek vengenace!
REPLY  | HOOPZ_COWER | Take the loss.

HOOPZ_COWER
DIALOG | P_NAME = s_port_hoopzSad | (There's nothing I can do... The dwarfs are dead.)

HOOPZ_REVENGE
DIALOG | P_NAME = s_port_hoopzAngry | Know what Lugner? You're a real piece of work. You tricked me into hurting those dwarfs!
DIALOG | P_NAME = s_port_hoopzAngry | I may be small... `s1`But I sure am strong!`s0`
DIALOG | Lugner = s_port_lugnerHappy | Let's tango, bitch!
EVENT  | o_lugner01 | 0
";



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Lugner attack
with (o_lugner01) scr_event_interactive_deactivate();
Duergar("spawn", "lugner", x, y);
with (o_lugner01) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,34</point>
    <point>22,22</point>
  </PhysicsShapePoints>
</object>
