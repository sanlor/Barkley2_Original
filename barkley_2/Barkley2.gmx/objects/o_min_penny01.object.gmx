<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_proboscisPenny01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

scr_event_hook_onInteract(event_cinema);
scr_entity_animation_new("bonfire");
scr_entity_animation_setRange("default", 2, 8);
scr_entity_animation_setRange("bonfire", 0, 1);    
scr_entity_animation_setSpeed("default", ANIMATION_DEFAULT_SPEED * 1.25); 
pickaxe = false;

if room = r_min_respawn01 then 
    {
    scr_entity_animation_set(o_min_penny01, "bonfire");
    if Quest("minesDinner") != 1 then scr_event_interactive_deactivate();
    }

script = "
Duergar | alive | burglecut
IF playerBlueFace == 0  | GOTO | PENNY_DIALOG
IF garlic_gabagool == 0 | IF duergar == alive | GOTO | GUARDED_BY_A_DUERGAR
GOTO | PENNY_DIALOG

PENNY_DIALOG
IF pennyDialog == 0 | GOTO | PENNY_DIALOG_0
IF pennyDialog == 1 | GOTO | PENNY_DIALOG_1
IF pennyDialog == 2 | GOTO | PENNY_DIALOG_2

GUARDED_BY_A_DUERGAR
DIALOG | Burglecut | Hey!
LOOKAT | o_cts_hoopz | o_burglecut01
FRAME  | CAMERA_FAST | o_burglecut01
WAIT   | 0
DIALOG | Burglecut | Leave the fuckers alone. We are running out of slaves so we can't afford to mangle these ones. Not yet anyways...
FRAME  | CAMERA_FAST | o_cts_hoopz
WAIT   | 0
DIALOG | P_NAME    | Oh, okay...

PENNY_DIALOG_0
DIALOG | Penny | ... Unhh... Listen... There is a... piece of the... spear... Don't let the Duergars...
QUEST  | pennyDialog = 1

PENNY_DIALOG_1
DIALOG | Penny | ... *Cough*... Ungh... The Duergars they... power source... for Necron 7...
QUEST  | pennyDialog = 2

PENNY_DIALOG_2
DIALOG | Penny | The top of the... A hatch to... outer space...
QUEST  | pennyDialog = 0                 
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inheritance //
event_inherited();

// Pause //
if paused() exit;

// Clang of the pickaxe //
if sprite_index = s_proboscisPenny01 and floor(_last_frame) = 6 and pickaxe = false and _active = true then
    {
    pickaxe = true;
    audio_play_sound_on_actor(id, "proboscis_pickaxe", false, 5);
    }
if _last_frame &lt;= 3 then pickaxe = false;

// Can't talk if either burglecut is alive AND you are not in blueface //
if Duergar("alive", "burglecut") = true then
    {
    // You have blueface, everything is good //
    if Quest("playerBlueFace") == 1 then 
        {
        _interactive = true;
        _disableOutline = false;        
        }
        
    // No blueface, you can't talk //
    else
        {
        _interactive = false;
        _disableOutline = true;
        }
    }
    
// Burgleut is dead, you can talk all you want, blueface or no //
else 
    {
    _interactive = true;
    _disableOutline = false;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
