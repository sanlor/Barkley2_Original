<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_bct_doorEyehole01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///The door to get into LONGINUS after you learn the knock
event_inherited()
shadow_radius = false;
scr_event_hook_onInteract(event_cinema);
event_user(0);
scr_actor_unsetRigid(id);

//------------------Animations!---------------------
scr_entity_animation_define("open", sprite_index, 0, 9, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("opened", sprite_index, 8, 1, 0);
scr_entity_animation_define("locked", sprite_index, 0, 1, 0);

//Set it's locked animation each time room is loaded
if Quest("longinusDoorOpen") &lt; 4 then 
    {
    scr_entity_setMovementCollisionShape_rectangle(62, 62);
    scr_entity_animation_set(o_bct_longinusDoor01, "locked");
    }
else
    {
    scr_actor_unsetRigid(id);
    scr_entity_animation_set(o_bct_longinusDoor01, "opened");
    _interactive = false;
    _disableOutline = true;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Disable interaction
_interactive = false;
_disableOutline = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// DSL - LONGINUS door
script = "
IF longinusDoorOpen == 4  | GOTO | TELEPORT
IF longinusDoorOpen == 3  | GOTO | SUCCESS
IF longinusDoorOpen == 2  | GOTO | AFTER_KNOCK_CHOICE
IF longinusDoorOpen == 1  | GOTO | FAILED
IF knowCdwarf &lt; 4         | GOTO | DONT_KNOW
IF longinusDoorState == 1 | GOTO | DOOR_1
IF knowNene == 2 | IF preNeneKnockAttempt == 0 | GOTO | DOOR_NENE
GOTO | DOOR_0

DOOR_NENE
DIALOG | P_NAME | Hello! Hello! I found that Nene guy... he's jacked in deep in-
DIALOG | Cunning Voice | Well then if you `w1`found`w0` Nene then that must mean you `w1`aren't`w0` Nene!
DIALOG | Husky Voice | Yeah, she has a point! We only open for the knock and the only one who knows the knock is Nene! Scram!
WAIT   | 0.5
DIALOG | P_NAME = s_port_hoopzSad | `w1`(Shucks-a-million...`w0` I gotta get to Nene somehow!)
QUEST  | preNeneKnockAttempt = 1
EXIT   |  

DOOR_0
DIALOG | P_NAME | Huh, a door. Maybe I should knock...
GOTO   | BEFORE_KNOCK_CHOICE

DOOR_1
DIALOG | P_NAME | These L.O.N.G.I.N.U.S. didn't let me through before.
IF neneKnock == 1 | GOTO | AFTER_KNOCK_CHOICE
GOTO   | BEFORE_KNOCK_CHOICE

TELEPORT
CHOICE | Enter L.O.N.G.I.N.U.S. HQ?
REPLY  | HQ_ENTER | Yeah!
REPLY  | HQ_LEAVE | Nope!

HQ_ENTER
FADE     | 1 | 1
WAIT     | 1
Teleport | r_bct_tower06 | 160 | 552 | 1

HQ_LEAVE
DIALOG   | P_NAME | Nay...

SUCCESS
QUEST  | longinusDoorOpen = 4
DIALOG | Husky Voice | Hey, that's the knock, must be Nene. Let him in!
PLAYSET | o_bct_longinusDoor01 | open | opened
EXIT   |
" +
//taking these out so the player can decide to go up to Wiglaf
//WAIT   | 1
//FADE   | 1 | 2
//WAIT   | 2
//Misc   | set | o_cts_hoopz | o_cinema15
"

FAILED
DIALOG | Husky Voice | What was that disgraceful excuse for a knock? Get lost, buddy! L.O.N.G.I.N.U.S. only!
QUEST  | longinusDoorOpen = 0

DONT_KNOW
DIALOG | P_NAME | Hello? Greets? Meets..?
WAIT   | 2
DIALOG | P_NAME | (I wonder what's behind that door...)

BEFORE_KNOCK_CHOICE
CHOICE | Knock on the door?
REPLY  | BEFORE_KNOCK | Knock.
REPLY  | BEFORE_BELAY | Belay that knock.

BEFORE_KNOCK
WAIT   | 0.5
MOVETO | o_cts_hoopz | o_cinema8 | MOVE_NORMAL
WAIT   | 0
USEAT  | o_bct_longinusDoor01
SOUND  | sn_longinusdoor_knock01
WAIT   | 0.1
USEAT  | o_bct_longinusDoor01
WAIT   | 2.0
IF longinusDoorState == 1 | GOTO | BEFORE_KNOCK_1
DIALOG | Husky Voice   | What the heck was that? `s1`That wasn't the knock!`s0`_ This clown's obviously not L.O.N.G.I.N.U.S.
DIALOG | Cunning Voice | `mq`Nene`rt` has forgotten the knock. Yet again. He never fails to `sq`get drunk at the milk bar.`rt`
DIALOG | P_NAME = s_port_hoopzSurprise | Hey, wait a sec, did you say L.O.N.G.I.N.U.S.? Is the Cyberdwarf in there? I'm P_NAME, I was rescued from an egg by L.O.N.G.I.N.U.S. and they told me to find the Cyberdwarf. You gotta let me in!
DIALOG | Husky Voice   | I don't care who you are, you're not getting in unless you know the `mq`knock!`rt`
DIALOG | P_NAME = s_port_hoopzSad | S-shucks... looks like I've gotta learn the `mq`knock...`rt`
KNOW   | knowNene | 1
QUEST  | longinusDoorState = 1
EXIT   |

BEFORE_KNOCK_1
DIALOG | Husky Voice   | It's the same joker as last time! Flub off unless you know the `mq`knock!`rt` L.O.N.G.I.N.U.S. only!
DIALOG | Cunning Voice | Nene's wasted again. Mhm hm. He'll sober up in the morning.

BEFORE_BELAY
DIALOG | P_NAME | There's an old saying, /'Knocking is for the weak./' And honestly? Sometimes I believe it...

AFTER_KNOCK_CHOICE
CHOICE | Knock on the door?
REPLY  | AFTER_KNOCK | Knock.
REPLY  | AFTER_BELAY | Belay that knock.

AFTER_KNOCK
MOVETO | o_cts_hoopz | o_cinema8 | MOVE_NORMAL
WAIT | 0
LOOK | o_cts_hoopz | NORTH
IF longinusDoorOpen == 2 | DIALOG | P_NAME | Now how did it go again?
IF neneKnock == 1        | DIALOG | P_NAME | Okay... here goes...
DIALOG | DEBUG | Left, Up, Left, Left, Up, Left, Down, Down, Down, Right
Create | o_mg_knocking_minigame

AFTER_BELAY
DIALOG | P_NAME      | I wonder what will happen if I just... don't knock.
WAIT   | 1
LOOK   | o_cts_hoopz | WEST
WAIT   | 1
LOOK   | o_cts_hoopz | EAST
WAIT   | 1
LOOK   | o_cts_hoopz | SOUTH
DIALOG | P_NAME      | Nothing... I reaped what I sowed.
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>32,65</point>
    <point>35,35</point>
  </PhysicsShapePoints>
</object>
