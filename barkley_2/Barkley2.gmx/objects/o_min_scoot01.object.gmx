<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_proboscisScoot01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
scr_event_hook_onCommon(event_cinema);
scr_entity_animation_define("bonfire", sprite_index, 0, 3, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("default", sprite_index, 3, 4, ANIMATION_DEFAULT_SPEED * 0.6);
pickaxe = false;
duergar_mines_check = 1;

if room = r_min_respawn01 then 
    {
    scr_entity_animation_set(o_min_scoot01, "bonfire");
    if Quest("minesDinner") != 1 then scr_event_interactive_deactivate();
    }
    
script = "
//IF melqartState &lt;= 3 | GOTO | GUARDED_BY_A_DUERGAR
IF scootDialog == 0  | GOTO | SCOOT_DIALOG_0
IF scootDialog == 1  | GOTO | SCOOT_DIALOG_1
IF scootDialog == 2  | GOTO | SCOOT_DIALOG_2

GUARDED_BY_A_DUERGAR
DIALOG | Melqart | Hey!
LOOKAT | o_cts_hoopz | o_melqart01
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_melqart01
WAIT   | 0
DIALOG | Melqart | Don't hassle that fucker. As much I loathe him and loathe saying this, we need that piece of shit. For now anyways...
DIALOG | P_NAME  | Oh, okay...
FRAME  | CAMERA_NORMAL | o_cts_hoopz
WAIT   | 0

SCOOT_DIALOG_0
DIALOG | Scoot | My papa used to tell me not to become a slave. I think that was his way of trying to keep me from trouble, but honestly, he didn't know what he was talking about. This is great! I mean, the Duergars beat me up just as much as anyone else, but that just goes with the territory. It isn't half bad being a slave.
QUEST  | scootDialog = 1

SCOOT_DIALOG_1
DIALOG | Scoot | All the people I've ever met have always hyped up the horrors of slavery. Pfft, what fools! They don't know what they are missing out on. Okay, sure, getting beat up or whipped is a bit of a doozy, but every occupation has it's downsides, right?
QUEST  | scootDialog = 2

SCOOT_DIALOG_2
DIALOG | Scoot | I sometimes wonder if I would make for a good slavemaster. I mean, I have plenty of experience from the other side of the fence, being a slave and all. Guess I'll never find out. Being a slave is a life long career after all.
QUEST  | scootDialog = 0          
"
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inheritance //
event_inherited();

// Pause //
if paused() exit;

// Clang of the pickaxe //
if sprite_index = s_proboscisScoot01 and floor(_last_frame) = 5 and pickaxe = false and _active = true then
    {
    pickaxe = true;
    audio_play_sound_on_actor(id, "sn_enemy_cybergremlin_swipe02", false, 5);
    audio_sound_gain_ext("sn_enemy_cybergremlin_swipe02", 0.15, 0);
    }
if _last_frame &lt;= 4 then pickaxe = false;

// Duergar check //
if duergar_mines_check &gt; 0 then
    {
    // Tick down //
    duergar_mines_check -= dt();
    
    // Event //
    if duergar_mines_check &lt;= 0 then
        {
        // Can't talk if melqart is alive AND you are not in blueface //
        if Duergar("alive", "melqart") = true then
            {
            // You have blueface, everything is good //
            if Quest("playerBlueFace") == 1 then 
                {
                _interactive = true;
                _disableOutline = false;        
                }
                
            // No blueface, you can't talk //
            else
                {
                _interactive = false;
                _disableOutline = true;
                }
            }
            
        // Melqart is dead, you can talk all you want, blueface or no //
        else 
            {
            _interactive = true;
            _disableOutline = false;
            }
        }
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
