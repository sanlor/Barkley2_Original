<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_gutterhoundControl</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// SETUP gutterhound that son of a b*tch
timerLock = 0;
timer_spawn = 0;
if (scr_quest_get_state("gutterEscape") == 1)
{
    if (room != r_sw1_fishersCreek01 &amp;&amp; room != r_tnn_gutterHouse01)
    {
        timerLock = 10;
        timer_spawn = 5;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Run cinema
if (preventFollow) o_mg_escort_gutterhound01.visible = 0;
if (autorun != -1)
{
    event_user(autorun);
    autorun = -1;
}

if (global.event == 0) // &amp;&amp; instance_exists(o_event) == 0)
{
    if (script != "") Cinema("run", script);
    script = "";
}

if (timer_spawn &gt; 0)
{
    timer_spawn = 0;
    instance_create(PlayerCombatActor.x, PlayerCombatActor.y, o_mg_escort_gutterhound01);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Pause //
if paused() exit;

// Lock all doors //
if timerLock &gt; 0 then
    {
    // Tick down //
    timerLock -= dt();
    
    // Event //
    if timerLock &lt;= 0 then
        {
        with o_door_parent 
            {
            if name != "gutterDoor" or name = "vivian" then event_user(0);
            if name != "vivian" then locked_text = "Lockdown";
            else locked_text = "";
            }
        }
    }

    exit;
// Spawn //
if timer_spawn &gt; 0 then
    {
    // Tick down //
    timer_spawn -= dt();
    
    // Event //
    if timer_spawn &lt;= 0 then
        {
        // Final check //
        instance_create(PlayerCombatActor.x, PlayerCombatActor.y, o_mg_escort_gutterhound01);
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set time to robbery value
ClockTime("process", (scr_time_db("get", "tnnCurfew") - ClockTime("get")) * 60 * 60);
ClockTime("process", 1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// CINEMA Exited to sewers with Gutter
//o_cts_hoopz.x = o_cinema10.x;
//o_cts_hoopz.y = o_cinema10.y;
//instance_create(0, 0, o_hoopz); // Can't be duplicated
o_hoopz.x = o_cinema10.x;
o_hoopz.y = o_cinema10.y;
Create(o_gutterhound02, o_cinema11.x, o_cinema11.y);
scr_event_hoopz_switch_cutscene();
scr_entity_look_object(o_cts_hoopz, o_gutterhound02);

script = "
LOOKAT | o_cts_hoopz | o_gutterhound02
LOOKAT | o_gutterhound02 | o_cts_hoopz
WAIT   | 2
DIALOG | Gutterhound | Heh, looks like we pulled it off. Those duergs are gonna be running around in circles trying to find ol' Gutterhound.
DIALOG | P_NAME = s_port_hoopzSmirk | Wow, we really did it, huh?
DIALOG | Gutterhound | You better believe it kid, that's why they call me `kw`The Hound,`rt` cause I always land on my feet.
DIALOG | P_NAME      | Don't you mean a cat? 
DIALOG | Gutterhound | Huh?_ Look cat or hound, the point is I'm an animal. A PARTY ANIMAL!_ `w2`MEEEOOOWWWWW.`w0` Now time to sniff out that party! Where am I going?
IF chanticleerSafety ==  3 | GOTO | GUTTERSAFETY
GOTO   | GUTTERALONE

GUTTERALONE
DIALOG | P_NAME      | Well, that's the thing. I might not have thought this through but... we don't really have a place to go... me or you.
DIALOG | Gutterhound | Well flub it, kid. You did good anyways. I can make it on my own in the sewers, heck I hear that right past Bass Mother there is a passage right to the Undersewers. From there, Necron 7 is my litter box!
GOTO   | REWARD

GUTTERSAFETY
DIALOG | P_NAME      | Oh right, Chanticleer lives down on the second floor of the sewers. There is a manhole that you can use to get down to his place.
DIALOG | Gutterhound | Manhole, eh? Yeah, I know the place.
GOTO   | REWARD

REWARD
DIALOG | P_NAME      | Well that's great, Gutterhound. Stay frosty.
DIALOG | Gutterhound | We ain't done yet, kid! You gotta get a cut of the profits!
DIALOG | P_NAME      | Oh yeah I almost forgot!
DIALOG | Gutterhound | You're my partner. Can't have my partner making a clean getaway without some party fuel. So while I was in the neuro vault, downloading the case to my brain pan, I saw a safety deposit box. `s1`Man-oh-man my hands were shakin'`s0` to get into that box. A quick headbutt was all it took to bust that sucker open and inside was the greenest damn stone I ever laid my peepers on.
DIALOG | P_NAME = s_port_hoopzSurprise | Whoah, sounds expensive.
DIALOG | Gutterhound | There was something about this rock once I grabbed it though. Like it was burstin' at the seams with tumultuous energy.
WAIT   | 0.5
DIALOG | Gutterhound | Say, partner. Let me cut you a deal. How about I take the `kw`shekels`rt` and you take the `sq`gem?`rt` What do you think?
CHOICE | Money or gems?
REPLY  | TAKEMONEY    | I'll take the shekels. (@money_gutterhoundTheft@)
REPLY  | TAKEGEM      | I'll take the mystery gemstone.

TAKEMONEY
DIALOG | P_NAME      | Well as much as I'd love a mysterious gemstone in my pocket. I think I'm gonna have to go with the money split we agreed on Mr. Gutterhound.
DIALOG | Gutterhound | Alright, kid. Yeah regardless of how much untold power is contained in this thing, it can't `w1`BRING THE PARTY.`w0` As for this thing-
" +
//TODO: gutterhound throws the gemstones out of the game!
"
SURPRISEAT | o_gutterhound02
DIALOG | P_NAME = s_port_hoopzSurprise | Egads! You just hucked that gem into oblivion!
DIALOG | Gutterhound | Yeah, worthless piece of rock! Let's get it on!
BREAKOUT | add | money
DIALOG | Gutterhound | Here's your cut, kid. @money_gutterhoundTheft@ neuroshekels.
LOOKAT | o_cts_hoopz | o_gutterhound02
QUEST  | money += @money_gutterhoundTheft@
WAIT   | 0.5
DIALOG | P_NAME = s_port_hoopzSmirk | Pleasure doing business with ya.
GOTO   | ENDING

TAKEGEM
DIALOG | P_NAME | I'm intrigued by that gemstone. I'll take you up on that offer.
DIALOG | Gutterhound | Attaboy. Here you go.
USEAT  | o_gutterhound02
WAIT   | 0.25
NOTIFY | Got the Chaos Emerald!
ITEM   | Chaos Emerald | 1
WAIT   | 0.25
DIALOG | P_NAME | The Chaos Emerald...
DIALOG | P_NAME = s_port_hoopzSmirk | Heh, I find peace in chaos.
DIALOG | Gutterhound | Alright time to take these shekels and send them right up my nose. `w2`MEEEOOOWWWWW.`w0`
DIALOG | P_NAME | Uh... okay Gutterhound.
GOTO   | ENDING

ENDING
BREAKOUT | clear
IF chanticleerSafety == 3 | DIALOG | Gutterhound | So long, partner. Stop in and join the party at my new crib sometime.
IF chanticleerSafety != 3 | DIALOG | Gutterhound | So long, partner. See you on the other side of the sewers... if we both make it.
DIALOG | P_NAME | So long, Gutterhound.
WAIT   | 0.5
QUEST  | gutterhoundQuest = 7
QUEST  | gutterEscape = 2
FADE   | 1 | 1
WAIT   | 1.5
Teleport | " + string(room) + " | " + string(o_cinema10.x) + " | " + string(o_cinema10.y) + " | 1.5
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// CINEMA Duergars looking for you after heist
Create(o_gutterhound02, o_cinema18.x, o_cinema18.y);
scr_entity_look(o_gutterhound02, SOUTH);
scr_event_hoopz_switch_cutscene();
scr_entity_look(o_cts_hoopz, SOUTH);
preventFollow = 1;
script = "
//Create | o_gutterhound02 | " + string(o_cinema18.x) + " | " + string(o_cinema18.y) + "
//LOOK   | o_gutterhound02 | SOUTH
FRAME  | CAMERA_NORMAL | o_onslow01 | o_puannum01 | o_kim01
WAIT   | 0
DIALOG | Onslow  | Clisp-fucking-damnit! Alright, keep the city under `kw`lockdown`rt` until every single one of these scumbags have been questioned. I want this mess solved, and I want it solved `s1`NOW!`s0`
DIALOG | Kim | Yessir!
DIALOG | Onslow  | Now move it! I want the scumbag found, pronto!
MOVETO | o_puannum01 | o_cinema0 | MOVE_FAST
WAIT   | 0.25
MOVETO | o_kim01 | o_cinema1 | MOVE_FAST
WAIT   | 0.25
MOVETO | o_onslow01  | o_cinema3 | MOVE_FAST
WAIT   | 0.25
FRAME  | CAMERA_NORMAL | o_hoopz
WAIT   | 0
LOOKAT | o_cts_hoopz | o_gutterhound02
DIALOG | P_NAME | Shucks, maybe this wasn't such a good idea after all.
DIALOG | Gutterhound | You're not chickening out on me, are ya? Because if I go down, I'm taking you with me. You got that?
DIALOG | P_NAME | Take it easy, mister. I want out of this mess as much as you do.
DIALOG | Gutterhound | Then stop your whining and let's get a move on. The sooner we get to the sewers the better.
DIALOG | P_NAME | Okay...
DIALOG | Gutterhound | Jes' keep out of sight of those duergs and we've got nothing to worry about. Come on kid. Let's go.
QUEST  | gutterPlan = 1            
QUEST  | curfewAnnouncement = 1
QUEST  | tnnCurfew = 1
FADE   | 1 | 1
WAIT   | 1.5
Teleport | " + string(r_tnn_businessDistrict01) + " | " + string(o_cinema2.x) + " | " + string(o_cinema2.y) + " | 1.5
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Gutterhound escape
event_inherited();
autorun = -1;
script = "";
preventFollow = 0;
if (room == r_tnn_businessDistrict01)
{
    if (scr_quest_get_state("gutterEscape") == 1)
    {
        if (scr_quest_get_state("gutterPlan") == 0)
        {
            autorun = 0;
        }
    }
}
else if (scr_quest_get_state("gutterEscape") == 1)
{
    if (room == r_sw1_fishersCreek01 || room == r_tnn_gutterHouse01)
    {
        autorun = 1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>15,48</point>
    <point>26,26</point>
  </PhysicsShapePoints>
</object>
