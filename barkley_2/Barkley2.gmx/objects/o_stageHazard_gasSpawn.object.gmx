<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_stageHazard_steamSpawn</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>-1000000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Setup //
steam_start = 0;
steam_downtime = 0;
steam_duration = 0;
steam_direction = 0;
steam_shoot = 1;

timer_downtime = 0;
timer_duration = 0;
timer_smoke = 1;

brast = false;
z = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Pause //
if paused() exit;

// Steam bursts //
if brast = true then
    {
    if steam_start &gt; 0 then
        {
        // Tick down //
        steam_start -= dt();
        
        // Event //
        if steam_start &lt;= 0 then timer_duration = steam_duration;        
        }
        
    // Steam bursts //
    if timer_duration &gt; 0 then
        {
        // Tick down //
        timer_duration -= dt();
        
        // Shoot out steam //
        if steam_shoot &gt; 0 then
            {
            // Tick down //
            steam_shoot -= dt();
            
            // Shoot out the damage particles //
            if steam_shoot &lt;= 0 then
                {
                steam = instance_create(x, y, o_enemyAttack_steam);
                steam.move_z = 3;
                steam_shoot = steam_duration / 3; /// 10;            
                }
            }   
            
        // Shoot the fake particles //
        if timer_smoke &gt; 0 then
            {
            // Tick down //
            timer_smoke -= dt();
            
            // Event //
            if timer_smoke &lt;= 0 then
                {
                ///Smoke("customcolor", 200, 200, 200);
                smk = Smoke("puff keep", x + irandom(10) * choose(1, -1), y + irandom(10) * choose(1, -1), z, 8 + random(8));
                smk.sty = 1;
                smk.frc = 0.4;
                smk.move_x = lengthdir_x(1, steam_direction + irandom_range(-7, 7));
                smk.move_y = lengthdir_y(1, steam_direction + irandom_range(-7, 7)); 
                smk.move_z = 5 + random(3); 
                smk.z = z;
                smk.smoke_speed = 1.5;
                Smoke("color", c_yellow, 0.25);
                with (smk) { event_user(0); instance_destroy(); }
                Smoke("color", c_white);
                timer_smoke = 0.5 + random(0.25);
                }
            }
                        
        // Event //
        if timer_duration &lt;= 0 then timer_downtime = steam_downtime;        
        }
        
    // Steam bursts //
    if timer_downtime &gt; 0 then
        {
        // Tick down //
        timer_downtime -= dt();
        
        // Event //
        if timer_downtime &lt;= 0 then timer_duration = steam_duration;        
        }
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
