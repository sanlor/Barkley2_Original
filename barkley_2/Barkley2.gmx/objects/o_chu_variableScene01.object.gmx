<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_eventCollision_square</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
event_inherited();
shadow_radius = false;
scr_actor_unsetRigid(id);
scr_event_hook_onCollision(event_collision);
event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move if not active
event_inherited();
if (scr_quest_get_state("wiglafMission") != 2) x = 99999; else x = xstart;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Remove duergs and Variable
if instance_exists(o_variable01) then with o_variable01 scr_event_interactive_deactivate();
if instance_exists(o_rosencrantz01) then with o_rosencrantz01 scr_event_interactive_deactivate();
if instance_exists(o_guildenstern01) then with o_guildenstern01 scr_event_interactive_deactivate();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Bork explosion
scr_fx_explosion_spawn_at(o_cinema30.x, o_cinema30.y, 0, 4);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// DSL - Variable Bork
script = "
QUEST  | wiglafMission = 3
MOVETO | o_cts_hoopz | o_cinema0 | MOVE_NORMAL
WAIT   | 0
Misc   | music | mus_blankTEMP | 1
WAIT   | 1
SOUND  | sn_variableOwl01
WAIT   | 0.25
Emote  | ?
WAIT   | 0.25
LOOK   | o_cts_hoopz | NORTHEAST
WAIT   | 0.6
LOOK   | o_cts_hoopz | EAST
WAIT   | 0.6
LOOK   | o_cts_hoopz | NORTHEAST
WAIT   | 0.6
LOOK   | o_cts_hoopz | NORTH
WAIT   | 0.6
LOOK   | o_cts_hoopz | NORTHWEST
WAIT   | 0.6
LOOK   | o_cts_hoopz | WEST
WAIT   | 1.0
SOUND  | sn_variableOwl01
Emote  | !
WAIT   | 0.3
SURPRISEAT | o_variable01
DIALOG | P_NAME | (Was that a snowy barn owl? In the swamps?)
FRAME  | CAMERA_FAST | o_cts_hoopz | o_variable01
WAIT   | 0
DIALOG | P_NAME | Variable!
MOVETO | o_cts_hoopz | o_cinema1 | MOVE_FAST
FOLLOWFRAME | CAMERA_NORMAL | o_cts_hoopz | o_variable01
WAIT   | 0
KNEELAT| o_variable01
WAIT   | 1.0
DIALOG | Variable | Knife, I presume.
DIALOG | P_NAME   | Roger.
WAIT   | 1.0
DIALOG | Variable | ... Well you want a sit-rep or not?
DIALOG | P_NAME   | Oh, sorry, yes, what have we got Sarge?
IF duergar_dead_rosencrantz == 1  | Misc | visible | o_rosencrantz01  | 0
IF duergar_dead_guildenstern == 1 | Misc | visible | o_guildenstern01 | 0
IF duergar_dead_rosencrantz == 1  | IF duergar_dead_guildenstern == 1 | GOTO | NO_DUERGAR
GOTO | TWO_DUERGAR

" +
//TODO: this needs to be resolved according to the Duergar Encounter
"
TWO_DUERGAR
IF duergar_dead_rosencrantz == 0 | IF duergar_dead_guildenstern == 0 | DIALOG | Variable | `sq`Two Blues up ahead.`rt` Not sure what their operation is, but they are packing some firepower._ The one on the left looks a bleeder.
IF duergar_dead_rosencrantz == 1 | DIALOG | Variable | `sq`One Blue up ahead.`rt` Not sure what his operation is, but he' packing some firepower. He looks a little timid.
IF duergar_dead_guildenstern == 1| DIALOG | Variable | `sq`One Blue up ahead.`rt` Not sure what his operation is, but he's packing some firepower. He looks fierce.
FRAME  | CAMERA_NORMAL | o_cinema7
WAIT   | 0
IF duergar_dead_rosencrantz == 0 | IF duergar_dead_guildenstern == 0 | DIALOG | Rosencrantz | When somebody signs a death warrant, somebody has to die. It's the rules. Nobody can break the rules.
IF duergar_dead_rosencrantz == 0 | IF duergar_dead_guildenstern == 0 | DIALOG | Guildenstern | You can break plenty of bones, though. Just no breaking those kinds of rules. Those are set in stone.
IF duergar_dead_guildenstern == 1| DIALOG | Rosencrantz | Patrol duty ain't what it used to be without Guildenstern...
IF duergar_dead_rosencrantz == 1 | DIALOG | Guildenstern | Patrol duty ain't what it used to be without Rosencrantz...
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_variable01
WAIT   | 0
IF duergarSwampEncounter &gt;= 2 | IF duergar_dead_rosencrantz == 1 | IF duergar_dead_guildenstern == 1 | DIALOG | P_NAME | I've seen those guys before. They're bad news.
IF duergarSwampEncounter &gt;= 2 | IF duergar_dead_rosencrantz == 0 | IF duergar_dead_guildenstern == 1 | DIALOG | P_NAME | I've seen that guy before. He's bad news.
IF duergarSwampEncounter &gt;= 2 | IF duergar_dead_rosencrantz == 1 | IF duergar_dead_guildenstern == 0 | DIALOG | P_NAME | I've seen that guy before. He's bad news.
IF duergarSwampEncounter == 0 | DIALOG | P_NAME | Those two look tough.
DIALOG | Variable | Copy that. Looks like, I'll need to run distraction. This Operation is going hot.
DIALOG | P_NAME   | Hot?
DIALOG | Variable | Initiating Borking Procedure.
DIALOG | P_NAME = s_port_hoopzSurprise | Wait. Borking?
DIALOG | Variable | Here's the bork. `w1`Bork inbound.`w0`
SOUND  | sn_debug_seven
WAIT   | 1
EVENT  | o_chu_variableScene01  | 1
SET    | o_swp_elevatorBorker01 | borked
SET    | o_swp_elevatorPanel01  | borked
WAIT   | 1.5
QUEST  | elevatorBork = 1
WAIT   | 0
QUEST  | elevatorFloorGoal = 0
DIALOG | Variable | Borking complete. Hen House is vulnerable. I repeat, Hen House is vulnerable.
DIALOG | P_NAME = s_port_hoopzSurprise | Wait can you just-
DIALOG | Variable | No time for Sit-Rep. Enemy is privy. I repeat enemy is privy. Moving Operation to Code Orange. `sq`Brandish Knife!`rt`
DIALOG | P_NAME = s_port_hoopzSurprise | `w1`Brandish what???`w0`
DIALOG | Variable | `s1`Brandish Knife!`s0`
SURPRISEAT | o_variable01
DIALOG | P_NAME = s_port_hoopzShock | `s2`But I'M KNIFE!`s0`
FOLLOWFRAME | CAMERA_FAST | o_variable01
MOVETO | o_variable01  | o_cinema2 | MOVE_FAST
WAIT   | 0
EVENT  | o_variable01  | 0
SET    | o_variable01  | bubbleChew
FRAME  | CAMERA_NORMAL | o_variable01 | o_rosencrantz01 | o_guildenstern01
LOOKAT | o_rosencrantz01 | o_variable01
WAIT   | 0.1
LOOKAT | o_guildenstern01 | o_variable01
WAIT   | 0
IF duergar_dead_rosencrantz == 0 | DIALOG | Rosencrantz  | What the fu-
WAIT   | 0.5
PLAYSET| o_variable01 | brandish | brandishHold
SOUND  | sn_debug_five
WAIT   | 0
DIALOG | Variable | HEN HOUSE IS VULNERABLE! `s1`BRANDISH KNIFE!`s0`
EVENT  | o_variable01 | 0
MOVETO | o_variable01 | o_cinema3 | MOVE_FAST
WAIT   | 1.3
LOOKAT | o_guildenstern01 | o_rosencrantz01
LOOKAT | o_rosencrantz01  | o_guildenstern01
WAIT   | 1.3
MOVETO | o_rosencrantz01  | o_cinema5 | MOVE_FAST
MOVETO | o_guildenstern01 | o_cinema4 | MOVE_FAST
WAIT   | 2
FOLLOWFRAME | CAMERA_FAST | o_cts_hoopz
WAIT   |
DIALOG | P_NAME = s_port_hoopzShock | What in the guff just happened?
WAIT   | 0.3
DIALOG | P_NAME      | ... Ah! `sq`The Hen House!`s0` The chance is now, gotta get in the elevator!
MOVETO | o_cts_hoopz | o_cinema6 | MOVE_FAST
WAIT   | 0
LOOK   | o_cts_hoopz | NORTH
EVENT  | o_chu_variableScene01 | 2

NO_DUERGAR
Misc   | visible  | o_guildenstern01 | 0
Misc   | visible  | o_rosencrantz01 | 0
DIALOG | Variable | The coast is clear. Preparing to bork and secure.
DIALOG | P_NAME = s_port_hoopzSurprise | Wait. Bork?
DIALOG | Variable | Here's the bork. Bork inbound.
SOUND  | sn_debug_seven
WAIT   | 5
EVENT  | o_chu_variableScene01  | 1
SET    | o_swp_elevatorBorker01 | borked
SET    | o_swp_elevatorPanel01  | borked
WAIT   | 1.5
QUEST  | elevatorBork = 1
WAIT   | 0
QUEST  | elevatorFloorGoal = 0
DIALOG | Variable | Borking complete. Hen House is vulnerable. I repeat, Hen House is vulnerable.
DIALOG | P_NAME = s_port_hoopzSurprise | Wow!
DIALOG | Variable | Knife, head to the Hen House and pursue Big Boy. I'll maintain the perimeter.
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set up scene
scr_entity_animation_set(o_variable01, "kneeling");
if (scr_quest_get_state("wiglafMission") != 2) 
{
    with (o_rosencrantz01) { instance_destroy(); }
    with (o_guildenstern01) { instance_destroy(); }
    if (Duergar("alive", "rosencrantz") == 1 ||
        Duergar("alive", "guildenstern") == 1) with (o_variable01) { instance_destroy(); }
    scr_event_interactive_deactivate();
}
else if (scr_quest_get_state("wiglafMission") == 2) 
{
    //Check if either of them are alive, if either one is, aim them into the center.
    if (Duergar("alive", "rosencrantz") == 1) {
        scr_entity_look_object(o_rosencrantz01, o_cinema7);
    }
    if (Duergar("alive", "rosencrantz") == 1) {
        scr_entity_look_object(o_guildenstern01, o_cinema7);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,16</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
