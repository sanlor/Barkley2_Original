<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_eventCollision_square</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>-1410065407</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
shadow_radius = false;
scr_actor_unsetRigid(id);
scr_event_hook_onCollision(event_collision);

// Lock the mortgage door //
timerLock = 3;

///Reaction to the Mortgage Door when looked
/*
    mortgageDoorRealize
        0 = haven't seen the door
        1 = have seen the door, realized you'd botched the payment
        2 = repeating dialogue
*/

script = "
QUEST | mortgageDoorCollided = 1
IF wilmerEvict &gt;= 4 | IF wilmerEvict &lt;= 7 | GOTO | DOOR02
IF mortgageDoorRealize == 1 | GOTO | DOOR01
IF mortgageDoorRealize == 0 | GOTO | DOOR00

DOOR02
DIALOG | P_NAME = s_port_hoopzSmirk | Glad I got here in time.

DOOR01
DIALOG | P_NAME = s_port_hoopzSad | I really flubbed this one up.

DOOR00
DIALOG | P_NAME | Ah here's the Mortgage Office.
WAIT   | 1.0
DIALOG | P_NAME = s_port_hoopzSurprise |  ._._._ Wait, it's closed?
DIALOG | P_NAME = s_port_hoopzShock    | Oh no!_ Wilmer! I forgot to pay his rent! I gotta go make sure he's okay!
QUEST  | mortgageDoorRealize = 1
QUEST  | wilmerPaymentFailure = 3
GOTO   | DOOR01
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Pause //
if paused() exit;

// Disable
if BodySwap() == "governor" then x = 999999;  
else if Quest("wilmerPaymentFailure") &gt;= 1 and Quest("wilmerPaymentFailure") &lt;= 3 then x = 999999;
else if Quest("duergarInfoWilmer") &gt;= 2 then x = 999999;
else if Quest("wilmerEvict") = 3 then x = 999999;
else if Quest("wilmerEvict") = 8 then x = 999999;
else if Quest("wilmerEvict") = 9 then x = 999999;
else if Quest("wilmerEvict") = 10 then x = 999999;
else if Quest("wilmerEvict") = 11 then x = 999999;
else if instance_exists(o_mg_stealth_control) then x = 999999;
else if Quest("mortgageDoorCollided") == 0 and Quest("mortgageOver") == 2 then 
    {
    x = xstart; 
    y = ystart;
    }    
else x = 999999;

// Why was this in the conditions? //
// and Quest("wilmerEvict") == 2 //
// Also this:
// and Quest("duergarInfoWilmer") == 0

// Lock // I think is just for locking the door right behind you? I don't know. // It's on a timer/delay so it's something completely deluded for sure. //

// PS. It is confirmed this is deluded, im commenting it out //
/*
if timerLock &gt; 0 then
    {
    // Tick down //
    timerLock -= dt();
    
    // Event //
    if timerLock &lt;= 0 then
        {
        if (scr_time_db("mortgageClosed") == "after") then 
            {
            with (o_door_parent)
                {
                if (name == "mortgage_door") event_user(0);
                }
            // T'was here    
            }
        }
    }
    
//
//Go to the "locked door reaction"
//event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,24</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
