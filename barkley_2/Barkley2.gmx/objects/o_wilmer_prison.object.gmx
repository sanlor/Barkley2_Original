<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_wilmer_prison</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
event_inherited();

//Activations
if (Quest("prisonLiberated") == 3)
{
    if (Quest("duergarInfoWilmer") == 0) scr_event_interactive_deactivate(); // was 1 for some reason
}
else
{
    if (Quest("duergarInfoWilmer") == 0) scr_event_interactive_deactivate();
}

//Event Cinema
scr_event_hook_onInteract(event_cinema);
event_user(0);
Animation("define", "default", sprite_index, 0, 1, 0);
Animation("define", "lifting", sprite_index, 1, 9, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_set(o_wilmer_prison, "lifting");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reps
ClockTime("display");
tim = (floor(abs(24 - global.clockHours)) * 60) + floor(abs(60 - global.clockMinutes));
baseReps = Quest("wilmerRepsBase");
Quest("wilmerReps0", baseReps + tim + 0);
Quest("wilmerReps1", baseReps + tim + 1);
Quest("wilmerReps2", baseReps + tim + 2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Swole Wilmer in the Prison
/*
VARIABLES
swoleWilmerState
    0 - haven't talked to him
    1 - have talked to him
    2 - he threw his barbell at Thrax and killed him
    3 - short repeating dialogue before you leave the room
    4 - you've talked to Wilmer and now he goes back to counting reps for the rest of the game
duergarInfoWilmer
    0 - you haven't sold Wilmer out to Gelasio
    1 - you HAVE sold Wilmer out to Gelasio (he is arrested as long as he isn't dead)
wilmerEvict
    0 - Wilmer hasn't sent you on the mission to pay his rent.
    1 - Wilmer HAS sent you on the mission to pay his rent.
    2 - Wilmer has been EVICTED!
    3 - Hoopz has talked to Wilmer after he has been kicked out
    4 - Mortgage paid via Minigame
    5 - Told Wilmer you paid his mortgage
    6 - Mortgage paid via governor
    7 - Told Wilmer Governor forgave him
    8 = Repeating dialogue if he's been Evicted
    9 = Wilmer dies from exposure
    10 = Wilmer is dead from exposure, repeating dialog
*/

script = "
IF swoleWilmerState == 4 | GOTO | REPS
IF swoleWilmerState == 3 | GOTO | LEAVEHIMTOIT
IF swoleWilmerState == 2 | GOTO | KILLEDTHRAX
IF swoleWilmerState == 1 | GOTO | REPS
IF swoleWilmerState == 0 | GOTO | FIRSTCHAT

KILLEDTHRAX
DIALOG | P_NAME | I can't believe how devastating your swole attack was. Every fiber of my body is impressed.
DIALOG | Wilmer = s_port_wilmerJail | Hehehe... I changed my butterscotch diet into a proteinscotch diet. Behold the results. `w1`*Flex muscles*`w0`
DIALOG | P_NAME | W-wow...
QUEST  | swoleWilmerState = 3

LEAVEHIMTOIT
DIALOG | P_NAME | (I'll leave him to his routine.)
QUEST  | swoleWilmerState = 4

REPS
EVENT  | o_wilmer_prison | 1 // Get three reps numbers
DIALOG | Wilmer = s_port_wilmerJail | @wilmerReps0@, @wilmerReps1@, @wilmerReps2@...
QUEST  | wilmerRepsBase += 3

FIRSTCHAT
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | Uh_._._ Wilmer?
DIALOG | Wilmer = s_port_wilmerJail | Oh hey, P_NAME_S. What's crackin'?
DIALOG | P_NAME | Is that really you?! How did you get thrown into the Hoosegow?
DIALOG | Wilmer = s_port_wilmerJail | Delinquency I guess. I figure one of those Duergars in Tir na nOg caught wind of my mortgage payment and decided to round me up.
DIALOG | P_NAME | I don't understand, I thought that I took care of...
WAIT   | 0.25
LOOK   | o_cts_hoopz | SOUTH
WAIT   | 0.25
PLAYSET| o_cts_hoopz | prison_sad0 | prison_sad1
WAIT   | 0
DIALOG | P_NAME = s_port_hoopzPrisonAngry | (Wait a minute... I gave that paper to Gelasio didn't I?)
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | `sq`(Did he sell my info to the duergars?!)`rt`
PLAYSET| o_cts_hoopz | prison_sad2 | prison_sad3
WAIT   | 0
WAIT   | 0.25
LOOKAT | o_cts_hoopz | o_wilmer_prison
WAIT   | 0.25
DIALOG | P_NAME | Wilmer... It might be my fault that-
DIALOG | Wilmer = s_port_wilmerJail | Let me stop you right there, tyke. You don't need to apologize. In fact... I've never felt better! I should be thanking you.
DIALOG | P_NAME | What do you mean?
DIALOG | Wilmer = s_port_wilmerJail | Look at this `w1`swole!`w0` Look at how `w2`yolked`w0` y'boy is. I'm a freakin'_ `w3`hench beast!`w0`
DIALOG | P_NAME | You... certainly have changed.
DIALOG | Wilmer = s_port_wilmerJail | `kw`The Hoosegow really changes you...`rt`
WAIT   | 0.5
DIALOG | Wilmer = s_port_wilmerJail | So... you'll have to wait for me to finish this arm. Come back in a few hours.
DIALOG | P_NAME | Oh no I didn't need to lift, I was just um... coming to see if we were still... cool?
DIALOG | Wilmer = s_port_wilmerJail | Yeah we're cool, brah.
DIALOG | P_NAME | Ummm okay... see ya...
DIALOG | Wilmer = s_port_wilmerJail | Oh... one more thing... I can't help you much inside the Hoosegow, that's MS-13 and Klatch territory. But out here in the yard,_ `sq`I got your back, littl'un.`rt`
DIALOG | P_NAME = s_port_hoopzPrisonHappy | Thanks Mr. Wilmer.
QUEST  | swoleWilmerState = 1
";
/*
DIALOG | P_NAME | 
DIALOG | Wilmer = s_port_wilmerJail | 
DIALOG | P_NAME | 
DIALOG | Wilmer = s_port_wilmerJail | 
DIALOG | P_NAME | 
DIALOG | Wilmer = s_port_wilmerJail | 
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>32,36</point>
    <point>26,26</point>
  </PhysicsShapePoints>
</object>
