<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_proboscisLuigi01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
event_inherited();
scr_event_hook_onInteract(event_cinema);
scr_entity_animation_new("bonfire");
scr_entity_animation_new("taste");
scr_entity_animation_new("eaten");
scr_entity_animation_setRange("default", 2, 5);
scr_entity_animation_setRange("bonfire", 0, 1); 
scr_entity_animation_setRange("taste", 7, 15); 
scr_entity_animation_setRange("eaten", 1, 1); 
scr_entity_animation_setSpeed("taste", ANIMATION_DEFAULT_SPEED);

// Sound //
play_sound = 1;
sound = "sn_bubbles01";
soundX = x;
soundY = y;
soundVolume = 0.1;

if Quest("minesDinner") == 2 then 
    {
    scr_entity_animation_set(o_min_luigi01, "eaten");
    scr_actor_unsetRigid(id);
    shadow_radius = 0;
    play_sound = 0;
    }

script = "
IF minesDinner == 2 | GOTO | LUIGI_GONE
IF playerBlueFace == 0 | GOTO | LUIGI_X
IF luigiDialog == 0 | GOTO | LUIGI_0
IF luigiDialog == 1 | GOTO | LUIGI_1
IF luigiDialog == 2 | GOTO | LUIGI_2

LUIGI_GONE
DIALOG | P_NAME | Just an empty cauldron. The dwarfs slurped all the soup.

LUIGI_X
DIALOG | Luigi  | Ah, a mysterious dwarf! Such a small nose on you! Such a small nose indeed...

LUIGI_0
DIALOG | Luigi  | Meets and greets, friend! Take a sniff of this brew of mine! Mmmmmm!
DIALOG | P_NAME | Ugh, what is that?
DIALOG | Luigi  | Oh just some giblets and croutons that were stuck at the bottom of the cauldron. I took the liberty of adding in some sand and rocks in there for flavour.
DIALOG | P_NAME | That looks like one sorry soup. A total disgrace.
DIALOG | Luigi  | Perhaps to a Duergar this might not look too appetizing. But trust me, my fellow Proboscii looooooooooooooooove this soup.
DIALOG | P_NAME | If you say so...
DIALOG | Luigi  | So is it dinner time soon? I'm starving after having forcefully fasted for days.
DIALOG | P_NAME | I don't know. I guess this is as good of a time as any.
DIALOG | Luigi  | Cool beans! Alright then. Could you ring the dinner bell? Your pre-cooked gabagools and bacons and rice are next to the dinner bell in those boxes.
DIALOG | P_NAME | I'll ring the dinner bell... when the time is right.
QUEST  | luigiDialog = 1

LUIGI_1
DIALOG | Luigi | I yearn for Gabagool, but alas, it is not to be... It is not for us dwarfs.
QUEST  | luigiDialog = 2

LUIGI_2
DIALOG | Luigi | Bacon would be great but that too is not for us dwarfs to eat...        
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inherit //
event_inherited();

// Delay //
if paused() exit;

// Play sound start delay // Then play a sound //
if play_sound &gt; 0 then 
    {
    play_sound -= dt();
    if play_sound &lt;= 0 then
        {
        if !audio_is_playing_ext(sound) then 
            {
            audio_play_sound_at_xy(sound, true, 80, soundX, soundY);
            audio_sound_gain_ext(sound, soundVolume, 0);
            }
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inherit //
event_inherited();

// Stop sound //
if audio_is_playing_ext(sound) then audio_stop_sound_ext(sound);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
