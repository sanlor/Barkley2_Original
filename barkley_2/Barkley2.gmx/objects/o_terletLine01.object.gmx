<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_eventCollision_square</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Collision for trying to make it into the terlet

//Inheritance
event_inherited();

// Deactivate if prison is liberated
if (Quest("prisonLiberated") == 3) 
{
    scr_event_interactive_deactivate();
    instance_destroy();
    exit;
}

//Turn off shadow and rigid
shadow_radius = false;
scr_actor_unsetRigid(id);

//Collision Event
scr_event_hook_onCollision(event_collision);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move if not active
event_inherited();

//Disable if the Shank Event isn't active
if (Quest("prisonQuest") == 8) then x = 99999;
else 
    {
    x = xstart;
    y = ystart;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///This triggers when you try to walk to the Terlet... you are unable to get there unless you talk to D'archimedes first
/*
VARIABLES
    darchimedesLineState
        0 = first time you've checked tried to walk into the terlet area
        1 = you've collided again... and talked to D'archimedes a second time
        2 = a third time... you just peep at the terlet and then go on your way
    prisonQuest
        0 = have not advanced the quest at all
        1 = starts when the cell doors close after the Bolthios Scene (must "restpause")
        2 = on room load after restpausing in bed, initiate 20 minutes until state = 3
        3 = Hoopz can now restpause to next hour
        4 = Hoopz has restpaused, initiate 20 minutes until state = 5
        5 = Hoopz can now restpause to next hour
        6 = Hoopz has restpaused, initiate 20 minutes until state = 7
        7 = Hoopz is at the end of his (gut) rope
        8 = you've escaped one way or another (this deactivates all collisions)
*/

script = "
IF darchimedesLineState == 2 | GOTO | DISTRESSSORT
IF darchimedesLineState == 1 | GOTO | SECONDSTOP
IF darchimedesLineState == 0 | GOTO | FIRSTSTOP

SECONDSTOP
LOOKAT | o_cts_hoopz | o_darchimedesPrison01
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_darchimedesPrison01
DIALOG | D'archimedes = s_port_darchimedes_prison | Ah-ah-ah! What did I say, sport? That terlet is Gaming Klatch turf. It's closed._ For you at least.
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0
LOOKAT | o_cts_hoopz | o_darchimedesPrison01 
QUEST  | darchimedesLineState = 2

FIRSTSTOP
LOOKAT | o_cts_hoopz | o_darchimedesPrison01
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_darchimedesPrison01
DIALOG | D'archimedes = s_port_darchimedes_prison | Hey buster, no cutsies, queue jumping, butting, barging, budding, budging, skipping, ditching, breaking, shorting, or pushing in. This is Gaming Klatch territory. We control the terlets.
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0
LOOKAT | o_cts_hoopz | o_darchimedesPrison01 
" +
//THESE LABELS ARE INCLUDED IN D'ARCHIMEDES OBJECT
"
QUEST | darchimedesLineState = 1
QUEST | darchimedesPrisonState = 1
IF knowDarchimedes &gt;= 1 | GOTO | DARCHKNOW00
IF knowGamingKlatch == 0 | GOTO | WHATISKLATCH
IF knowGamingKlatch &gt;= 1 | GOTO | KNOWKLATCH

DISTRESSSORT
IF prisonDistress == 5 | GOTO | DISTRESS05
IF prisonDistress == 4 | GOTO | DISTRESS04
IF prisonDistress == 3 | GOTO | DISTRESS03
IF prisonDistress == 2 | GOTO | DISTRESS02
IF prisonDistress == 1 | GOTO | DISTRESS01
GOTO | SECONDSTOP

DISTRESS05
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | (`w1`Urgh!`w0` My guts are about to explode!_ I gotta get permission to use the toilet, and I gotta get it fast!)
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0

DISTRESS04
DIALOG | P_NAME | (Time's tickin', P_NAME_S. You gotta get out of here A_S_A_P or you'll be in deep C_R_A_P.)
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0
QUEST  | prisonDistress = 5

DISTRESS03
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | (Lordy, lordy... this is horrible.)
FRAME  | CAMERA_FAST | o_cts_hoopz | o_cinema30
WAIT   | 0
WAIT   | 1
FRAME  | CAMERA_FAST | o_cts_hoopz
WAIT   | 0
DIALOG | P_NAME = s_port_hoopzPrisonShock | (A devastatingly long line and `s1`only one operating throne!`s0`)
WAIT   | 0.5
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | If I don't `sq`get out of here soon, I'm going to soil my britches!`rt`
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0
QUEST  | prisonDistress = 4

DISTRESS02
DIALOG | P_NAME | (Gotta hold out... until I get out.)
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0

DISTRESS01
LOOK   | o_cts_hoopz | NORTH
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | `s1`Duglubbit!`s0`
FRAME  | CAMERA_FAST | o_cinema15
WAIT   | 0
WAIT   | 0.5
DIALOG | P_NAME = s_port_hoopzPrisonSurprise | That's the line for the bathroom! I'm in trouble... `sq`gotta hold out until I can get out of here.`rt`
FRAME  | CAMERA_FAST | o_cts_hoopz
WAIT   | 0
WAIT   | 0.5
MOVETO | o_cts_hoopz | o_cinema29 | MOVE_NORMAL
WAIT   | 0
QUEST  | prisonDistress = 2
"
//Include D'archimedes Main Event
+ o_darchimedesPrison01.script;

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
