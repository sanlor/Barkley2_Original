<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_zane01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// After the tutorial never appear anywhere //
if Quest("tutorialProgression") &gt;= 11 then instance_destroy();

/*
tutorialProgress
    0 - Game has not begun 
    1 - Egg intro is over
    2 - Zane has run into the tutorial room 
    3 - You have broken through the bulbs
    4 - You have broken through the barrels
    5 - You have opened the door
    6 - You have gulped the juice
    7 - Zane is dead
    8 - Egg Drone is dead
    9 - Duergar chase scene that ends in Hoopz death
    */

/// Create
event_inherited();
scr_event_hook_onInteract(event_cinema);
event_user(0); // DSL

gossip = -999;
gosAct = 0;
gosTim = 2;
gosCou = 0;
gosTxt[0] = "Over here!";

// Rooms //
if room = r_fct_eggRooms01 and Quest("gameStart") != 1 then scr_event_interactive_deactivate();
else if room = r_fct_tutorialZone01 and Quest("tutorialProgress") &gt;= 5 then scr_event_interactive_deactivate();
else if room = r_fct_accessHall01 and Quest("tutorialProgress") &gt;= 9 then scr_event_interactive_deactivate();

if (room == r_fct_tutorialZone01) then
{
    if (Quest("zaneState") &lt;= 1)
        {
        Quest("diaperDodge", 1);
        Quest("zaneState", 1);
        if global.keyinput_type == KEYINPUT_GAMEPAD then gosTxt[0] = "Use the left bumper to roll.";
        else gosTxt[0] = "Press spacebar to roll.";
        gosAct = 1;
        }
    /*else if (Quest("zaneState") == 6)
    {
        // Stay in front of the door to give the jalapeno choice //
        x = o_cinema4.x;
        y = o_cinema4.y;
    }
    else instance_destroy();*/
}

// Zane beckons you to come closer //
if (room == r_fct_accessHall01) then 
    {
    if (Quest("tutorialZaneOverHere") == 0) then
        {
        x = o_cinema1.x;
        y = o_cinema1.y;
        scr_event_entity_settings(id, 0, 0, 1);
        gosAct = 1;
        }
    }

//WALK/LOOK
scr_entity_set_look_walk_mirror(s_zane01, s_zaneUP01, s_zaneDOWN01);
scr_entity_look(id, SOUTHEAST); //Can only call this function after scr_entity_set_look
/*
scr_entity_animation_define("ANIMATION_SOUTH", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_SOUTHEAST", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_SOUTHWEST", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_WEST", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_NORTH", s_zaneUP01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_NORTHEAST", s_zaneUP01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_NORTHWEST", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("ANIMATION_EAST", s_zaneDOWN01, 0, 5, ANIMATION_DEFAULT_SPEED);
*/
//ANIMATIONS
scr_entity_animation_define("default", s_zane01, 0, 1, 0);
scr_entity_animation_define("lookdown", s_zane01, 1, 1, 0);
scr_entity_animation_define("headshot", s_zaneHeadBlast01, 0, 14, ANIMATION_DEFAULT_SPEED);
scr_entity_animation_define("deadOnGround", s_zaneHeadBlast01, 13, 1, ANIMATION_DEFAULT_SPEED);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Event
event_inherited();
if (paused()) exit;

/*
if (room == r_fct_tutorialZone01)
{
    if (o_hoopz.x &lt; x - 96 &amp;&amp; Quest("diaperHolster") == 0)
    {
        Quest("diaperHolster", 1);
        scr_gun_db("wilmerGun");
        gosAct = 0;
        o_jhodfrey01.gosAct = 1;
        if (instance_exists(gossip)) { Destroy(gossip); }
    }
}*/

if (gosAct)
{
    if (global.event)
    {
        if (instance_exists(gossip)) { Destroy(gossip); }
        exit;
    }
    gosCou = Goto(gosCou, 0, dt_sec());
    if (gosCou &lt;= 0)
    {
        gossip = instance_create(x, y, o_entity_indicatorGossip); // 45 DT life
        gossip.text = gosTxt[0];
        gosCou += gosTim + (gossip.timer / 10);
    }
}

if (Quest("introBlockade") == 0)
{
    if (room == r_fct_accessHall01 &amp;&amp; gosAct)
    {
        if (point_distance(o_hoopz.x, o_hoopz.y, x, y) &lt; 64)
        {
            gosAct = 0;
            Quest("tutorialZaneOverHere", 1);
            if (instance_exists(gossip)) { Destroy(gossip); }
            scr_path_delete();
            scr_path_set(x, y, o_cinema0.x, o_cinema0.y, MOVE_FAST, 0, 3000);
            _automatic_animation = 1;
        }
    }
}

// Tutorial room progress // Barrel break bulb break
if room = r_fct_tutorialZone01 and o_hoopz.x &lt;= 538 then 
    {
    with o_woodBarrel event_user(9);
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Lock doorlights
with (o_doorlight_down) locked = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="21">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Spawn blue roses ala Dark Savior
repeat (7) instance_create(x, y, o_effect_blue_rose);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Disable click
scr_event_entity_settings(id, 0, 1, 1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Jalapeno smoke
Smoke("mass", o_cts_hoopz.x, o_cts_hoopz.y + 2, o_cts_hoopz.z + 24, 2, c_lime, 0.5);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Destruct the bulbs //
with o_bustaBulb event_user(9);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Zane's Tutorial Progression
/*
    tutorialProgress (not up to date)
        0 - Game has not begun 
        1 - Egg intro is over
        2 - Zane has run into the tutorial room 
        3 - You have broken through the bulbs
        4 - You have broken through the barrels
        5 - You have opened the door
        6 - You have gulped the juice
        7 - Zane is dead
        8 - Egg Drone is dead
        9 - Duergar chase scene that ends in Hoopz death

Variables
    zaneState
        0 - game has not started
        1 - intro "Egg Scene" has been completed
        2 - talked to Zane and he tells you to dodge (repeating dialogue)
        3 - you've rolled through the first bits of the glass bulbs
        4 - Zane gives you the ammo-infinite pistol (repeats instructions)
        5 - you've discovered the locked door now you need to look for it (repeats instructions)
        6 - you've flicked the switch, Zane and Jhodfrey go through the door
        7 - you've witnessed the conversation between Zane and Jhodfrey
*/

shootMethod = "";
aimMethod = "";
rollButton = "";

if (global.keyinput_type == KEYINPUT_GAMEPAD) 
{
    rollButton = "the left bumper"; // Is this the right button?
    aimMethod = "the right joystick";
    shootMethod = "the right bumper";
}
else 
{
    rollButton = "spacebar";
    aimMethod = "the mouse";
    shootMethod = "left click";
}

script = "
IF zaneState == 1 | GOTO | TUTORIAL_DODGE
IF zaneState == 2 | GOTO | DODGE_REMIND
IF zaneState == 3 | GOTO | NICEJOBROLLIN
IF zaneState == 4 | GOTO | SHOOTBARRELS
IF zaneState == 5 | GOTO | DOORCHECK
IF zaneState == 6 | GOTO | JALAPENO

DOORCHECK
DIALOG | Zane | In `kw`Hyperborea no Legends,`rt` or HnL for short, `mq`most things you can interact with light up white.`rt` But that's in HnL... who knows what happens in the real world?

SHOOTBARRELS
DIALOG | Zane | Remember... just aim and squeeze... maybe you'll get a `kw`sweet drop`rt` from those barrels!

NICEJOBROLLIN
DIALOG | Zane | Nice job rollin'.

GUNGIVE02
DIALOG | Zane | Take aim at those barrels with `kw`" + aimMethod + "`rt` and brast them clean open with `kw`" + shootMethod + ".`rt`

TUTORIAL_DODGE
DIALOG | Zane | See those bulbs there? It's kinda tricky, but I find the best way to get through them is just throwing your own body against them. I know it sounds dangerous, but try as you might, you'll never get any of that glass stuck to you. 
DIALOG | Zane | It's called `kw`/'The Gaffer's Paradox./'`rt` Give it a shot with `kw`" + rollButton + "`rt`! `w1`It's a hoot!`w0`
QUEST  | zaneState = 2

DODGE_REMIND
DIALOG | Zane | Go on, smash those bulbs with `kw`" + rollButton + "`rt`.

JALAPENO
MOVETO | o_cts_hoopz | o_cinema5 | MOVE_NORMAL
WAIT   | 0
LOOKAT | o_cts_hoopz | o_zane01
LOOKAT | o_zane01 | o_cts_hoopz
DIALOG | Zane | Alright, things might get a little dicey up ahead. There are reports of `sq`Duergar`rt` patrols. You think you can brast with that thing at_ `w1`moving targets?`w0`
CHOICE | You think you can brast?
REPLY  | UGHH | Ughhhh.
REPLY  | AGHH | Aghhhh.

UGHH
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper | Ughhh.
GOTO   | BRAST_READY

AGHH
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper | Aghhh.
GOTO   | BRAST_READY

BRAST_READY
DIALOG | Zane | Heh. Looks like our intel was right. I was told you might be hesitant to pick up arm's and fight._ That's why he told me to bring a little something with me... Hold on a sec.
WAIT   | 1.0
DIALOG | Zane | Ah, here we go. A bottle of `s1`Jalapeno Juice.`s0` Take a sip of this. It'll get you into the right mood. Not to mention a little boost to `kw`GUTS and LUCK,`rt` hehe.
USEAT  | o_zane01
WAIT   | 0.5
GOTO   | JALAPENO_CHOICE

JALAPENO_CHOICE
CHOICE | Gulp the Jalapeno Juice?
REPLY  | JALA_UGHH | Unghh...
REPLY  | JALA_AGHH | Aughh...
IF zaneJalapeno == 1 | REPLY | JALA_EUGH | Eughh!

JALA_AGHH
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper | Aughh...
DIALOG | Zane | There's no time for second guessing! You need to get juiced up!
QUEST  | zaneJalapeno = 1
GOTO   | JALAPENO_CHOICE

JALA_EUGH
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper | Eughh!
DIALOG | Zane | No? Heh, you've got spirit, kid..._ Alright, no Jalapeno Juice for you.
DIALOG | Zane | Let's keep going. I hope you can keep up.
QUEST  | zaneJalapeno = 2
GOTO   | ZANE_WALK_FORTH

JALA_UGHH
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper | Unghh...
DIALOG | Zane | Down it all in one go. Let's just say the taste is_ less than to be desired.
SOUND  | sn_juicechug01
WAIT   | 1
EVENT  | o_room_dream_filter | 0
Emote  | !
EVENT  | o_zane01 | 5 //emit cinema smoke from Hoopz
LOOK   | o_cts_hoopz | EAST
WAIT   | 0.1
LOOK   | o_cts_hoopz | WEST
WAIT   | 0.1
LOOK   | o_cts_hoopz | NORTH
WAIT   | 0.1
EVENT  | o_room_dream_filter | 0
LOOK   | o_cts_hoopz | SOUTH
WAIT   | 0.1
LOOK   | o_cts_hoopz | WEST
WAIT   | 0.1
LOOK   | o_cts_hoopz | SOUTH
EVENT  | o_room_dream_filter | 0
EVENT  | o_room_dream_filter | 1
DIALOG | Mysteriouse Youngster = s_port_hoopzDiaper_shock | `s1`*Cough* *cough* !!!`s0` Urgh... Nnnghh... Aagh....
WAIT   | 0.5
LOOKAT | o_cts_hoopz | o_zane01
DIALOG | Zane | Hmmm... too potent... well, maybe you'll get used to it, or maybe you should just stick to candies... `mq`Follow me!`rt`
GOTO   | ZANE_WALK_FORTH

ZANE_WALK_FORTH
FOLLOWFRAME | CAMERA_NORMAL | o_zane01
LOOK   | o_cts_hoopz | WEST
MOVETO | o_zane01 | o_cinema6 | MOVE_FAST
MOVETO | o_jhodfrey01 | o_cinema7 | MOVE_FAST
WAIT   | 0
DIALOG | Jhodfrey | Come on! Get a grip, Zane! We are dying out here! Those drones are wiping the floor with us, and that's not to mention what'll happen when a Duergar turns the corner. And this Diapered Wonder is our only hope? 
DIALOG | Jhodfrey | I know that our orders were to come and rescue this kid but we've already lost most of our unit. Even `kw`Firewall Joe`rt` was no match for these guys.
FRAME  | CAMERA_NORMAL | o_zane01 | o_jhodfrey01 | o_cts_hoopz
DIALOG | Zane     | We all mourn the loss of Firewall Joe... a true hero to dwarfs and his sacrifice will be forever scribed in the annals of Dwarf history, but this is our `mq`MISSION,`rt`_ a mission of the highest order. And if you can't trust-_
WAIT   | 0.1
DIALOG | Zane     | `mq`- The Cyberdwarf-`rt`
WAIT   | 0.1
DIALOG | Zane     | -then you shouldn't have volunteered on this most important of sorties.
DIALOG | Jhodfrey | Clispaeth-christ... Yeah, alright. I get it, I get it. `w1`Psssh,`w0` this is my umpteenth sortie and what has that kid done? Oh yeah, stuck in an egg for a few thousand years. Must've been a real trial to just float around in yolk without a care in the world. Boo hoo. Cry me a river.
DIALOG | Zane     | Stand down, Jhodfrey! Just think: when we get back to base there will be tubers as far as the table goes, and we'll be able to eat our fill of those very tubers.
DIALOG | Jhodfrey | This sortie is a load of horse patoot but you're right. I do it for the tubers. There's only one way out of this_ and that's forward. I'll take up the rear.
FOLLOWFRAME | CAMERA_NORMAL | o_jhodfrey01 | o_cts_hoopz
MOVETO | o_jhodfrey01 | o_cinema8 | MOVE_FAST
WAIT   | 0
WAIT   | 0.6
MOVETO | o_zane01 | o_cinema7 | MOVE_FAST
DIALOG | Jhodfrey | Hmmpf... /'Messiah,/' my anus. Good luck, kid... you'll need it.
MOVETO | o_jhodfrey01 | o_cinema9 | MOVE_FAST
WAIT   | 0
Misc   | set | o_zane01 | o_cinema3
LOOK   | o_jhodfrey01 | NORTHWEST
QUEST  | zaneState = 7
EVENT  | o_zane01 | 15
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
