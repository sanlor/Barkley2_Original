<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_pdt_zigomar_counter01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inheritance //
event_inherited();

// No shadow //
shadow_radius = false;

// Garbage //
scr_event_hook_onCommon(event_cinema);
_interactive_distance = 88;
              
// Gone if you talked to Nick Carter //
if Quest("nickcarterState") &gt;= 1 then scr_event_interactive_deactivate();

// Gone after stakeout is ruined by you //
/*if Quest("zigomarState") &gt;= 3 and room = r_pdt_social01 then scr_event_interactive_deactivate();

// Throne room //
if Quest("zigomarState") &gt;= 3 and room = r_pdt_eelThrone01 then
    {
    scr_entity_animation_define("throne", s_pdt_zigomar_throne01, 0, 1, 0);
    scr_entity_animation_set(o_pdt_zigomar01, "throne");
    } 
    
// Not in throne Room //
if Quest("zigomarState") &lt;= 2 and room = r_pdt_eelThrone01 then scr_event_interactive_deactivate();

/*
    zigomarState
    0 - Not spoken to
    1 - Quest accepted
    2 - Quest declined
    3 - You've ruined the Feds stakeout by killing zorro, Zigomar has taken over Katzen Kompany, becoming a crime overlord
    4 - You've ruined the Feds stakeout by waltzing in, Zigomar has taken over Katzen Kompany, becoming a crime overlord
    5 - Repeating dialog after becoming crimelord
*/

script = "
IF draculaBlood &gt;= 1 | IF draculaZigomar == 0 | GOTO | BLOOD_TOKEN
IF draculaBlood &gt;= 1 | IF draculaZigomar == 1 | GOTO | BLOOD_NO
IF zigomarState == 0 | GOTO | ZIGO_0
IF zigomarState == 1 | GOTO | ZIGO_1
IF zigomarState == 2 | GOTO | ZIGO_2
IF zigomarState == 3 | GOTO | ZIGO_DETECTIVES_GONE
IF zigomarState == 4 | GOTO | ZIGO_CRIMELORD_REPEAT

BLOOD_TOKEN
DIALOG | Zigomar | Count Dracula... I have nothing to say to you, fiend.
DIALOG | P_NAME  | O-okay...
QUEST  | draculaZigomar = 1
QUEST  | draculaBlood -= 1
IF draculaBlood &gt;= 1 | NOTIFY | The blood on your clothes evaporates a bit...
IF draculaBlood &lt;= 0 | NOTIFY | The blood on your clothes has evaporated completely...

BLOOD_NO
DIALOG | Zigomar | Hmph...

ZIGO_0
KNOW   | knowZigomar | 1
KNOW   | knowSmokingrock | 1
QUEST  | pocahontasEncounter = 1
QUEST  | pdtRumour = 3
Destroy | o_pdt_nick01
DIALOG | Zigomar | `w1`Bwahahaha...`w0` Ah, hello, outsider. Welcome to Ys-Kolob.
DIALOG | P_NAME  | Season's Greeting's to thee.
DIALOG | Zigomar | I'd offer to buy a `kw`Smoking Rock`rt` for you, but you don't look like you are old enough to drink.
DIALOG | P_NAME  | W-well...
DIALOG | Zigomar | In that case, perhaps there is something else you would be interested in... You have the look of a `kw`braster`rt` about you. Tell me, what brings you to Ys-Kolob?
DIALOG | P_NAME  | I just sort of wandered in here, I guess.
DIALOG | Zigomar | Wandered, or ventured? I think you look more like an adventurer than a wanderer. Say, you wouldn't be interested in some `kw`treasure`rt` now would you, adventurer?
DIALOG | P_NAME  | T-treasure? Like... `w1`vidcons?`w0`
DIALOG | Zigomar | Eh, no, not really. Treasure! Gold and goblets. Wealth beyond your imagination.
CHOICE | Gold and goblets...
REPLY  | GOLD_YAY | Wow, sounds good to me!
REPLY  | GOLD_NAY | This sounds like a scam.

GOLD_YAY
DIALOG | P_NAME  | Wow, sounds like a doozy! Tell me more!
DIALOG | Zigomar | `w1`Bwahahahaha...`w0` Yes, it's a doozy alright. I knew an adventurer such as yourself could not resist the allure of gold and glory. Alright, youngster. Perk up your ears and have a listen, uncle Ziggy has the scoop for you...
DIALOG | P_NAME  | Ears: perked. Bring it on!
DIALOG | Zigomar | I do not know how familiar you are with Ys-Kolob, but if you've wandered all around you might have noticed something... strange. `kw`Symbols`rt` carved on the walls that `kw`look like the letter Z.`rt` Ring any bells?
DIALOG | P_NAME  | Umm... No. What are those?
DIALOG | Zigomar | I have very strong reasons to believe that they are `kw`clues`rt` to a great treasure, left behind by none other than `kw`El Zorro.`rt`
DIALOG | P_NAME  | El Zorro? Who's that?
DIALOG | Zigomar | You do not know? I'm shocked, youngster. I'm absolutely shocked, heh.
DIALOG | P_NAME  | But how should I know...
DIALOG | Zigomar | El Zorro is an `kw`infamous bandit`rt` who stole from the rich and gave to the poor. He was beloved by the people, and hated by the `kw`establishment.`rt` For decades he pillaged from the rich until one day he simply... disappeared.
DIALOG | P_NAME  | Wow...
DIALOG | Zigomar | I have studied El Zorro at great lengths, and I believe the symbols that look like the letter Z are clues he left behind.
DIALOG | P_NAME  | Clues to what?
DIALOG | Zigomar | The treasure, youngster! El Zorro wanted the people to have all the riches he had accumulated over the years but wanted to make sure the establishment wouldn't get their hands on it. They say only one pure of heart can `kw`decipher the code`rt` of the symbols. That could be you, youngster...
DIALOG | P_NAME  | *Gulp* Y-you think so?
DIALOG | Zigomar | Yes, I do. Here, take this `kw`Z-Codec.`rt` It'll hoot and holler when there are Z symbols nearby. I can also send `kw`burst transmissions`rt` through it in case I discover something more about this treasure.
DIALOG | P_NAME  | O-okay! Thanks! I'll see you on the flipside, old man.
DIALOG | Zigomar | Oh, and one more thing. To `kw`truly discover`rt` a Z symbol, you need to `kw`hover your cursor over it`rt` for a second or two.
ITEM   | Z-Codec | 1
QUEST  | zigomarState = 1

GOLD_NAY
DIALOG | P_NAME  | No offense, but this sounds like you trying to pull a goof on me.
DIALOG | Zigomar | No goof, youngster. The treasure of El Zorro is real, but perhaps I was wrong about you. Yes, I doubt you could find all the hidden `kw`Z symbols,`rt` let alone the treasure itself.
DIALOG | P_NAME  | N-not that I would care but what are the Z symbols?
DIALOG | Zigomar | Forget it, youngster. I will find someone else to find the treasure that can be found by `kw`studying the symbols.`rt` You are clearly not worthy.
DIALOG | P_NAME  | Aww shucks... Looks like I botched it up. Or did I? The Z symbols... What could that mean?
DIALOG | P_NAME  | Hmmm... I wonder if those are like `kw`things on the walls`rt` that I can `kw`look`rt` at. Maybe I need to like... hover a cursor over them or something? I don't know, I'm just guessing.
QUEST  | zigomarState = 2

ZIGO_1
DIALOG | Zigomar | Follow the `kw`symbols,`rt` youngster. That's all I know to tell you about the treasure of El Zorro.

ZIGO_2
DIALOG | Zigomar | Try as you might, you will never find the treasure of El Zorro. Don't even think about following the Z symbols to find it.
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Scam //
event_inherited();
if paused() exit;
//if room = r_pdt_social01 then scr_dny(-40);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>14,39</point>
    <point>21,21</point>
  </PhysicsShapePoints>
</object>
