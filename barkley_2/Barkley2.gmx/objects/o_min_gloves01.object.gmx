<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_proboscisGloves01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

scr_event_hook_onInteract(event_cinema);
scr_entity_animation_new("bonfire");
scr_entity_animation_setRange("bonfire", 8, 1);
scr_entity_animation_define("running", s_proboscisGlovesRun01, 0, 4, ANIMATION_DEFAULT_SPEED * 2);
pickaxe = false;
duergar_mines_check = 1;   

// Dinner scene //    
if room = r_min_respawn01 then 
    {
    if Quest("glovesBox") &lt;= 1 then scr_entity_animation_set(o_min_gloves01, "bonfire");
    else scr_event_interactive_deactivate();
    if Quest("minesDinner") != 1 then scr_event_interactive_deactivate();
    }

// Mining away or Glovesfallen //
if room = r_min_constantine01 then 
    {
    if Quest("glovesBox") == 2 then scr_entity_animation_setSpriteIndex("default", s_proboscisGlovesCrestfallen01);
    else scr_event_interactive_deactivate();
    }
else if Quest("glovesBox") == 2 then scr_event_interactive_deactivate();

script = "
Duergar | alive | jeanmarc
IF room == r_min_constantine01 | GOTO | GLOVESFALLEN
IF playerBlueFace == 0 | GOTO | GLOVES
IF jeanmarcState == 0  | GOTO | GUARDED_BY_A_DUERGAR
IF jeanmarcState == 2  | GOTO | GUARDED_BY_A_DUERGAR_2
IF jeanmarcState == 5  | GOTO | GUARDED_BY_A_DUERGAR
IF glovesBox == 1 | GOTO | GLOVES_CHECK
GOTO | GLOVES

GLOVES
IF glovesDialog == 0 | GOTO | GLOVES_DIALOG_0
IF glovesDialog == 1 | GOTO | GLOVES_DIALOG_1
IF glovesDialog == 2 | GOTO | GLOVES_DIALOG_2

GLOVESFALLEN
DIALOG | Gloves = s_port_glovesSad | ... Nothing matters... I have betrayed the only ones I ever truly loved...

GLOVES_CHECK
Duergar | alive | honus
IF duergar == alive | IF jeanmarcState == 1 | GOTO | GLOVES_TIP
IF duergar == alive | IF jeanmarcState == 3 | GOTO | GLOVES_TIP

GLOVES_TIP
MOVETO | o_cts_hoopz | o_cinema5 | MOVE_NORMAL
WAIT   | 0
LOOK   | o_cts_hoopz | SOUTHWEST
FRAME  | CAMERA_NORMAL | o_min_gloves01 | o_cts_hoopz
DIALOG | Gloves    | I love `sq``w1`gloves!`w0``rt` I couldn't imagine life without `sq``w1`gloves!`w0``rt` I cherish them more than anything in this world!
DIALOG | P_NAME    | Oh, really? Well guess what...
CHOICE | Tell Gloves about the box of gloves?
REPLY  | TELL_GLOVES      | Yeah!
REPLY  | DONT_TELL_GLOVES | No way...

TELL_GLOVES
DIALOG | P_NAME    | Hey, did you know that there is a box full of gloves over yonder?
DIALOG | Gloves    | What?! `sq``w1`Gloves!?!?!?!?!?!`w0``rt` A box full of `sq``w1`gloves?!?!?!?!?!!!!`w0``rt`
CREATE | o_min_pickaxe01
SET    | o_min_gloves01 | running
WAIT   | 0.25
MOVETO | o_min_gloves01 | o_cinema1 | 16
Misc   | automatic animation | o_min_gloves01 | 0
WAIT   | 0.4
LOOKAT | o_cts_hoopz | o_min_gloves01 
WAIT   | 0.3
LOOK   | o_cts_hoopz | EAST
DIALOG | P_NAME    | Holy flip! Never seen a dwarf motor that fast!
WAIT   | 0.75
LOOK   | o_honus01 | NORTHEAST
Destroy | o_min_gloves01
FRAME  | CAMERA_FAST | o_honus01 
WAIT   | 0
DIALOG | Honus     | What? What the flip? Nosedwarf slacker. Punishment.
LOOK   | o_honus01 | SOUTHEAST
WAIT   | 0.25
IF minesDinner == 2 | DIALOG | Honus | Nosedwarf. Keep working. No singing. No dancing.
IF minesDinner != 2 | DIALOG | Honus | You two. Stay here. No singing. No dancing.
MOVETO | o_honus01 | o_cinema1 | MOVE_NORMAL
WAIT   | 0.75
FRAME  | CAMERA_FAST | o_cts_hoopz
WAIT   | 0
Destroy | o_honus01
IF minesDinner == 2 | DIALOG | DIALOG | P_NAME | Uh oh, maybe this wasn't such a good idea. That nosedwarf is now unattended, but at what cost...?
IF minesDinner != 2 | DIALOG | DIALOG | P_NAME | Uh oh, maybe this wasn't such a good idea. The nosedwarfs are now unattended, but at what cost...?
QUEST  | glovesBox = 2
QUEST  | honusState = 2

DONT_TELL_GLOVES
DIALOG | P_NAME    | Uh, actually, nevermind...
DIALOG | Gloves    | Gloves, gloves, gloves!

GUARDED_BY_A_DUERGAR
DIALOG | Jean-Marc | Hey!
LOOKAT | o_cts_hoopz | o_jeanmarc01
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_jeanmarc01
WAIT   | 0
DIALOG | Jean-Marc | Their bones make a lovely sound when they crack, and nothing is better than painting their faces red and blue with blood and bruises, but these are our last nosedwarfs. We aren't allowed to molest them until this rock has been picked clean. So step back, and just wait.
DIALOG | P_NAME    | Oh, okay...
FRAME  | CAMERA_NORMAL | o_cts_hoopz
WAIT   | 0

GUARDED_BY_A_DUERGAR_2
DIALOG | Jean-Marc | Hey! Lunatic!
LOOKAT | o_cts_hoopz | o_jeanmarc01
FRAME  | CAMERA_NORMAL | o_cts_hoopz | o_jeanmarc01
WAIT   | 0
DIALOG | Jean-Marc | What the fuck are you up to? I know it's fun to beat them and bruise them, but these are our last nosedwarfs. We aren't allowed to molest them until this rock has been picked clean. Step back, and fuck off.
DIALOG | P_NAME    | Oh, okay...
FRAME  | CAMERA_NORMAL | o_cts_hoopz
WAIT   | 0

GLOVES_DIALOG_0
DIALOG | Gloves | My papa named me `sq``w1`Gloves`w0``rt` after my greatgrandfather, Earl Saint Glovez. Ever since then I have yearned for `sq``w1`gloves.`w0``rt` I've lusted after them, more than I have lusted for grape or a ruby. Call me a knave, call me a deviant. All I care about is `sq``w1`gloves.`w0``rt`
QUEST  | glovesDialog = 1

GLOVES_DIALOG_1
DIALOG | Gloves | Better a worn `sq``w1`glove`w0``rt` on one hand than a golden `sq``w1`glove`w0``rt` on your left foot. An old Proboscis saying that I live by. Remember it well...
QUEST  | glovesDialog = 2

GLOVES_DIALOG_2
DIALOG | Gloves | `sq``w1`Gloves`w0``rt` are excellent for some stealthy groping action. Why? You leave no fingerprints. One of the many upsides of `sq``w1`gloves.`w0``rt`
DIALOG | Gloves | P.S. There are no downsides.
QUEST  | glovesDialog = 0       
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Inheritance //
event_inherited();

// Pause //
if paused() exit;

// Clang of the pickaxe //
if sprite_index = s_proboscisGloves01 and floor(_last_frame) = 5 and pickaxe = false and _active = true then
    {
    pickaxe = true;
    audio_play_sound_on_actor(id, "proboscis_pickaxe", false, 5);
    }
if _last_frame &lt;= 1 then pickaxe = false;

// Duergar check //
if duergar_mines_check &gt; 0 then
    {
    // Tick down //
    duergar_mines_check -= dt();
    
    // Event //
    if duergar_mines_check &lt;= 0 then
        {
        // Can't talk if either honus or jeanmarc is alive AND you are not in blueface //
        if Duergar("alive", "honus") = true or Duergar("alive", "jeanmarc") = true then
            {
            // You have blueface, everything is good //
            if Quest("playerBlueFace") == 1 then 
                {
                _interactive = true;
                _disableOutline = false;        
                }
                
            // No blueface, you can't talk //
            else
                {
                _interactive = false;
                _disableOutline = true;
                }
            }
            
        // Duergs are dead, you can talk all you want, blueface or no //
        else 
            {
            _interactive = true;
            _disableOutline = false;
            }
        }
    }
    
// Gloves box, ignore it if Honus is dead //
if Duergar("alive", "honus") = false then Quest("glovesBox", 3);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
