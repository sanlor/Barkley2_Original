<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2510001</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Setup //
timer_knock = 10;
timer_pause = 0;
timer_icon = 0;
timer_end = 0;
knock_index = 9;
y_position = 0;
alpha_icon = 0;
alpha_icon_goal = 0;

// DEBUG // Test target knocks //
nene_knock[0] = 2;
nene_knock[1] = 1;
nene_knock[2] = 2;
nene_knock[3] = 2;
nene_knock[4] = 1;
nene_knock[5] = 2;
nene_knock[6] = 3;
nene_knock[7] = 3;
nene_knock[8] = 3;
nene_knock[9] = 0;

// Shake effect
onx = o_nene01.x;
ony = o_nene01.y;
shk = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///go back to dialog with result
global.event = false;
var nene = o_nene01;
nene.x = onx;
nene.y = ony;
//if (scr_quest_get_state("neneState") != 5)
//  {
Quest("neneJustKnocked", 1);
with (nene) Cinema("run", script);
//  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///set event to true to freeze camera
global.event = true;

// Shake effect
if (shk)
{
    o_nene01.x = onx + lengthdir_x(lengthdir_y(-2, y_position * 18), (nene_knock[knock_index] * 90));
    o_nene01.y = ony + lengthdir_y(lengthdir_y(-2, y_position * 18), (nene_knock[knock_index] * 90));
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Pause //
if paused() then exit;

// Pause //
if timer_pause &gt; 0 then
    {
    // Tick down //
    timer_pause -= dt();
    
    // Event //
    if timer_pause &lt;= 0 then timer_knock = 5;
    }

// End //
if timer_end &gt; 0 then
    {
    // Tick down //
    timer_end -= dt();
    
    // Event //
    if timer_end &lt;= 0 then instance_destroy();
    }
    
// Knocks //
if timer_knock &gt; 0 then
    {
    // Tick down //
    timer_knock -= dt();
    
    // Event //
    if timer_knock &lt;= 0 then
        {
        // Show the icon //
        y_position = 0;
        alpha_icon_goal = 1;
        timer_icon = 3;
        shk = 1;
              
        // Next icon //
        if knock_index &lt; 9 then knock_index += 1;
        else knock_index = 0;
        
        switch (nene_knock[knock_index])
        {
            case 0: audio_play_sound_at_xy("sn_knocknote01", false, 50, view_xview + 192, view_yview + 120); break;
            case 1: audio_play_sound_at_xy("sn_knocknote02", false, 50, view_xview + 192, view_yview + 120); break;
            case 2: audio_play_sound_at_xy("sn_knocknote03", false, 50, view_xview + 192, view_yview + 120); break;
            case 3: audio_play_sound_at_xy("sn_knocknote04", false, 50, view_xview + 192, view_yview + 120); break;
        }
        
        // Remove self OR reset timer //
        if knock_index = 9 then timer_end = 15;
        else timer_knock = 9;
        }
    }
    
// Y position //
if y_position &lt; 10 then y_position += 0.35;
    
// Icon show //
if timer_icon &gt; 0 then
    {
    // Tick down //
    timer_icon -= dt();
    
    // Event //
    if timer_icon &lt;= 0 then alpha_icon_goal = 0;
    }
    
// Icon alpha //
if alpha_icon &lt; alpha_icon_goal then alpha_icon += 0.15;
else if alpha_icon &gt; alpha_icon_goal then alpha_icon -= 0.15;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Dimmer //
if instance_exists(o_nene01) then draw_sprite_ext(s_mg_knocking_arrow, nene_knock[knock_index], onx, ony - 24 - y_position, 1, 1, 0, c_white, alpha_icon);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>24,27</point>
    <point>27,27</point>
  </PhysicsShapePoints>
</object>
