<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_barkley2_logo_jp</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2000001</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create

// Teleport stuff
teleportXPad = 7;
teleportYPad = 7;
teleportXSpc = 7;
teleportYSpc = 7;
teleportRows = 5;
teleportCols = 3;
i = 0;
//New Player Data
teleportFile[i] = "New Player Data"; 
teleportName[i] = "New Player Data#(Gauntlet, t1, g52)#5 Random Guns + Zaubers"; i += 1;
//Sewers Floor 1
teleportFile[i] = "Level_13.b2"; 
teleportName[i] = "13 - Sewers FL1#(Catfish Jumpers, t2, g63)#Fresh from TNN"; i += 1;
//Sewers Floor 2
teleportFile[i] = "Level_16.b2";
teleportName[i] = "16 - Sewers FL2#(Catfish Shields, t4, g72)#Beat the BABBY System"; i += 1;
//The Eastelands
teleportFile[i] = "Level_21.b2";
teleportName[i] = "21 - Eastelands#(Cybergrems, t7, g87)#Impersonated Elagabalus"; i += 1;
//Gilbert's Peak Ascent
teleportFile[i] = "Level_24.b2";
teleportName[i] = "24 - Gilbert's Peak Ascent#(Tengus, t9, g96)#Met Lafayette"; i += 1;
//The Swamps
teleportFile[i] = "Level_27.b2";
teleportName[i] = "27 - Swamps#(Kobolds, t11, gl05)#Discovered the Swamp Ranch"; i += 1;
//The AI Ruins
teleportFile[i] = "Level_29.b2";
teleportName[i] = "29 - Power Plant#(Brain Aliens, t12, gl111)#Finding the Influence Eggs"; i += 1;
//The Power Plant
teleportFile[i] = "Level_31.b2";
teleportName[i] = "31 - Undersewers#(Sewer Beasts, t13, g117)#Wiglaf's Mission"; i += 1;
//Undersewers
teleportFile[i] = "Level_36.b2";
teleportName[i] = "36 - AI Ruins#(Crabotrons, t15, gl32)#Found The Cyberdwarf"; i += 1;
//The Westelands
teleportFile[i] = "Level_39.b2";
teleportName[i] = "39 - The Westelands#(Junkworms, t16, gl41)#Cyberspear Search"; i += 1;
//The Icelands
teleportFile[i] = "Level_41.b2";
teleportName[i] = "41 - The Icelands#(Jalapeno Stags, t17, gl47)#Journey to the Dojo"; i += 1;
//Cuchu's Lair
teleportFile[i] = "Level_45.b2";
teleportName[i] = "45 - Cuchu's Lair#(Duergar Squads, t19, gl59)#Takin' it to Cuchu"; i += 1;
//End of the Game
teleportFile[i] = "Level_48.b2";
teleportName[i] = "48 - End of Game#(Cuchu, t20, gl68)#Showdown in Sheol"; i += 1;
//Beefster Build
teleportFile[i] = "Level_55.b2";
teleportName[i] = "55 - Beefster#(Corpse Blossom, t22, gl89)#Beefster Build"; i += 1;
//Beefster Build
teleportFile[i] = "Level_61.b2";
teleportName[i] = "61 - Critical Path#(Everything, t23, g210)#Max Stats"; i += 1;
teleportAmount = i;

fade_phase = 0;
fade = 0;
alpha_sine = 0;

snd_volume = 1;

// Replace bgm
nextBGM = NULL_STRING;

cursorX = 0;
cursorY = 0;

namestart = "X114JAMX";
weapsToGen = 0;
teleportSelected = 0;
global.godMode = false;
global.pacifyMode = 0;

menuindex = "main";
fade_phase = 1;
fade = 1;
alpha_sine = pi*1.5;

lotsOfHp = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Step
if (menuindex == "main")
{
    if (fade_phase == 2 &amp;&amp; fade &lt;= -1)
    {
        // Game("load") has this code now, will put back in when making full screen
    }
    
    if (keyboard_check_pressed(ord('X'))) Game("new");
    
    if (keyboard_check_pressed(ord('Z'))) Game("new from wilmer");
    
    if (fade_phase == 1 &amp;&amp; scr_savedata_exists()  &amp;&amp; keyboard_check(ord('L'))) //(scr_input_check_pressed(KEYID_PAUSE, PLAYER1))||keyboard_check(ord('L')))
    {
        fade_phase = 2;
        fade = -1;
        instance_destroy(oTitleDebug);
        instance_destroy(oTitleStarpass);
        instance_destroy(oTitle);
        
        alarm[0] = 1; // Play select sound
        // room_target used to be set so it could nicely fade, right now we just skip that
        Game("load");
    }
    
    if (fade_phase == 1 &amp;&amp; scr_savedata_exists() &amp;&amp; keyboard_check(ord('D'))) scr_savedata_delete();
    
    if (keyboard_check_pressed(ord('T'))) menuindex = "teleport";
    
    if (keyboard_check_pressed(ord('N'))) global.sfx_gain_master = !global.sfx_gain_master;
    
    if (keyboard_check_pressed(ord('M'))) global.bgm_gain_master = !global.bgm_gain_master;  
    
    if (keyboard_check_pressed(ord('I'))) global.godMode = !global.godMode;
    
    if (keyboard_check_pressed(ord('P'))) global.pacifyMode = !global.pacifyMode;
}

//Don't draw is mode is not "basic"
if (oTitle.mode == "basic") {
    visible = true;
}
else if (oTitle.mode != "basic") {
    visible = false;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw - Teleport
drx = teleportXPad;
dry = teleportYPad;
drw = SCREEN_WIDTH - (teleportXPad * 2) - (teleportXSpc * (teleportCols - 1));
drw /= teleportCols;
drh = SCREEN_HEIGHT - (teleportYPad * 2) - (teleportYSpc * (teleportRows - 1));
drh /= teleportRows;
j = 0;
hil = -1;
scr_font(global.fn_5os, c_white, 1, 1);
for (i = 0; i &lt; teleportAmount; i += 1)
{
    col = c_gray;
    if (scr_mouse_rect(drx, dry, drx + drw, dry + drh)) 
    {
        hil = i;
        col = c_white;
    }
    draw_sprite_ext(s1x1, 0, drx, dry, drw, drh, 0, col, 1);
    draw_text_ext(drx + drw / 2, dry + drh / 2, teleportName[i], -1, drw - 4);
    drx += drw + teleportXSpc;
    j += 1;
    if (j &gt;= teleportCols) 
    {
        j = 0;
        drx = teleportXPad;
        dry += drh + teleportYSpc;
    }
}
scr_font(global.fn_2, c_black, 0, 0);
if (hil != -1 &amp;&amp; mouse_check_button(mb_left))
{
    mouse_clear(mb_left);
    if (hil == 0)
    {
        scr_savedata_reset();
        scr_player_newPlayerIdentity();
        
        // Get Guns
        var _gun; // For later
        var luck = scr_savedata_get("player.stats.effective." + STAT_BASE_LUCK);
        _gun = Drop("generate", luck, "generic automatic", "NAVE");
        scr_equipment_guns_bandolier_addGun(_gun);
        _gun = Drop("generate", luck, "generic pistol", "TUNT");
        scr_equipment_guns_bandolier_addGun(_gun);
        _gun = Drop("generate", luck, "generic projectile", "BEAN");
        scr_equipment_guns_bandolier_addGun(_gun);
        _gun = Drop("generate", luck, "generic rifle", "HANK");
        scr_equipment_guns_bandolier_addGun(_gun);
        _gun = Drop("generate", luck, "generic shotgun", "HERB");
        scr_equipment_guns_bandolier_addGun(_gun);
        
        // Get Zaubers
        Zauber("gain", "cyber0");
        Zauber("gain", "mental0");
        Zauber("gain", "bio0");
        Zauber("gain", "zauber0");
        Zauber("gain", "kosmik0");
        Zauber("slot", 0);
        
        // Candy
        Candy("recipe add", "Butterscotch");
        repeat (10) scr_items_add(scr_items_db_getCopyOfItem("Butterscotch"));

        if (lotsOfHp) 
        { 
            scr_savedata_put("player.stats.base."+STAT_BASE_HP, 99999);
            scr_savedata_put("player.stats.current."+STAT_CURRENT_HP, 99999);
        }
        var room_var = r_gau_01_entrance01;
        var x_var = 288;
        var y_var = 240;
        var rt;
        with(o_world) { rt = scr_map_initialise_load_room(room_var,x_var,y_var); }
        room_target = rt;
        paused(false);
        room_goto(room_target);
    }
    else
    {
        file_copy("hardsaves/" + teleportFile[hil], "save.b2");
        scr_savedata_load();
        var save_roomname = scr_savedata_get("map.room");
        var save_room = asset_get_index(save_roomname);
        var save_roomx = scr_savedata_get("map.x");
        var save_roomy = scr_savedata_get("map.y");
        audio_set_bgm("");
        var rt;
        with (o_world) { rt = scr_map_initialise_load_room(save_room, save_roomx, save_roomy); }
        room_target = rt;
        paused(false);
        //show_debug_message(save_roomname);
        room_goto(room_target);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw
if (fade_phase &gt; 2) exit;
draw_set_alpha(1);
scr_font(global.fn_small, c_green, 2, 2);
draw_text(SCREEN_WIDTH - 5, SCREEN_HEIGHT - 5, "v" + global.settingVersion);
scr_font(global.fn_small, c_yellow, 0, 0);
drx = 30;
dry = 75;
switch(menuindex)
{
    case "main":
        
        // Logo
        //draw_sprite(sprite_index, 0, x, 30)
        
        // Flash-text
        alpha_sine += .05;
        var a = max(0, min(1, sin(alpha_sine) * 0.5 + 0.1));
        
        draw_text(drx, dry, "X: NEW GAME - From Egg Room"); 
        dry += 14;
        draw_text(drx, dry, "Z: NEW GAME - After Branding Scene"); 
        dry += 14;
        if (!scr_savedata_exists()) draw_set_colour(c_gray);
        draw_text(drx, dry, "L: Load saved game");
        dry += 14;
        draw_text(drx, dry, "D: Delete saved game");
        dry += 14;
        draw_set_colour(c_yellow);
        draw_text(drx, dry, "T: Teleport");
        
        dx = 220
        dy = 110;
        draw_text(dx, dy,"M: Mute All Sounds"); 
        dy += 10;
        if (global.godMode) draw_text(dx, dy, "I: INVINCIBLE MODE (ON)"); 
        else draw_text(dx, dy, "I: INVINCIBLE MODE (OFF)"); 
        dy += 10;
        if (global.pacifyMode) draw_text(dx, dy, "P: PACIFY MODE (ON)"); 
        else draw_text(dx, dy, "P: PACIFY MODE (OFF)"); 
        dy += 10;
    break;
    
    case "teleport":
        event_user(0);
        break;
}

// Fullscreen fade
if (fade_phase == 0)
{
    fade += .004;
    if (fade &gt;= 1)
    {
        fade_phase = 1;
        alpha_sine = pi*1.5;
    }
}
else if (fade_phase == 2)
{
    fade -= .01;
}
if (fade_phase != 1) draw_sprite_ext(s1x1, 0, 0, 0, SCREEN_WIDTH, SCREEN_HEIGHT, 0, c_black, 1 - fade);

scr_font(-1, c_white, 0, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>150,24</point>
    <point>150,150</point>
  </PhysicsShapePoints>
</object>
