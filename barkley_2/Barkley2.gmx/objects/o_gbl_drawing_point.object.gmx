<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_drawing_point</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/* LOCATIONS 

    1 - TNN - Market District Rooftop
    2 - Sewers 2 - Safe Room
    3 - Eastelands - Mountain Base corner
    4 - Factory F2 - Reroute Gooped
    5 - Fary Forest - South Corner
    6 - Mtnpass - Elevator Shaft
    7 - Iceland - Pond corner
    8 - Mines - Lobby
    9 - Swamps - Swamp Ranch
    10 - Triskelion - Gallows
    11 - TNN - Above Wilmer's house
    12 - SW1 - Gutter Gate
    13 - Factory F1 - Corner
    14 - Mtnpass - Top of the Mountain
    15 - 
    16 -
    17 -
    18 -
    19 -
    20 -
*/
event_inherited();
scr_entity_animation_define("draw", sprite_index, 0, 1, 0);
scr_entity_animation_define("teleport", sprite_index, 1, 1, 0);
Animation("set", id, "draw");

// SETUP //
scr_actor_unsetRigid(id);
shadow_visible = false;
col[0] = make_color_rgb(128, 0, 128);
col[1] = make_color_rgb(240, 32, 32);
cou = 0;
couDir = 1;
couTrl = 0;
dny = 24;

scr_event_hook_onInteract(event_cinema);
qst = "draw_" + room_get_name(room);
script = "
IF " + qst + " == 0         | GOTO | DRAW
IF @Firaga@ &gt;= 100          | GOTO | JUNCTION
IF junctionGuts == 1        | GOTO | SWAP
IF junctionLuck == 1        | GOTO | SWAP
IF junctionAcrobatics == 1  | GOTO | SWAP
IF junctionMight == 1       | GOTO | SWAP
IF junctionPiety == 1       | GOTO | SWAP
GOTO | EMPTY

DRAW
DIALOG | | Found a draw point!#Firaga found
CHOICE | Who will draw?
REPLY  | DONT  | Don't draw
REPLY  | HOOPZ | P_NAME

DONT
DIALOG | | No one drew.

HOOPZ
MOVETO | o_cts_hoopz | o_gbl_drawing_point | MOVE_NORMAL
WAIT   | 0
WAIT   | 0.25
LOOK   | o_cts_hoopz | SOUTH
WAIT   | 0.5
SET    | o_cts_hoopz | firaga
WAIT   | 0.5
EVENT  | o_gbl_drawing_point | 0
WAIT   | 0.25
SOUND  | sn_pearlgunshot01
QUEST  | " + qst + " = 1
ITEM   | Firaga | 5
WAIT   | 2
DIALOG | | P_NAME stocked 5 Firagas.
WAIT   | 0.5
IF @Firaga@ &gt;= 100 | GOTO | JUNCTION_CHOICE

EMPTY
DIALOG | P_NAME | I think this draw point is empty...

SWAP
MOVETO | o_cts_hoopz | o_gbl_drawing_point | MOVE_NORMAL
WAIT   | 0
WAIT   | 0.25
LOOK   | o_cts_hoopz | SOUTH
WAIT   | 0.5
SET    | o_cts_hoopz | firaga
WAIT   | 0.5
DIALOG | | Change your Junctioning of Firaga?
CHOICE | Who will Junction Firaga?
REPLY  | JUNCTION_NO  | Don't Junction
REPLY  | JUNCTION_YES | P_NAME

JUNCTION
MOVETO | o_cts_hoopz | o_gbl_drawing_point | MOVE_NORMAL
WAIT   | 0
WAIT   | 0.25
LOOK   | o_cts_hoopz | SOUTH
WAIT   | 0.5
SET    | o_cts_hoopz | firaga
WAIT   | 0.5
GOTO   | JUNCTION_CHOICE

JUNCTION_CHOICE
DIALOG | | You have the required amount of Firaga. Would you like to Junction them?
CHOICE | Who will Junction Firaga?
REPLY  | JUNCTION_NO  | Don't junction
REPLY  | JUNCTION_YES | P_NAME

JUNCTION_NO
DIALOG | | Firaga was not junctioned.

JUNCTION_YES
CHOICE | Junction Firaga to what attribute?
REPLY  | JG | Guts
REPLY  | JL | Luck
REPLY  | JA | Acrobatics
REPLY  | JM | Might
REPLY  | JP | Piety
REPLY  | CANCEL | Cancel Junction

JG
SOUND     | sn_pearlgunshot03
NOTIFY    | Firaga was junctioned to Guts!
NOTIFYALT | Guts increased by 10 points.
IF junctionGuts = 1         | GLAMP | guts | -10
IF junctionLuck = 1         | GLAMP | luck | -10
IF junctionAcrobatics = 1   | GLAMP | acrobatics | -10
IF junctionMight = 1        | GLAMP | might | -10
IF junctionPiety = 1        | GLAMP | piety | -10
QUEST | junctionGuts = 1
QUEST | junctionLuck = 0
QUEST | junctionAcrobatics = 0
QUEST | junctionMight = 0
QUEST | junctionPiety = 0
GLAMP | guts | 10

JL
SOUND     | sn_pearlgunshot03
NOTIFY    | Firaga was junctioned to Luck!
NOTIFYALT | Luck increased by 10 points.
IF junctionGuts = 1         | GLAMP | guts | -10
IF junctionLuck = 1         | GLAMP | luck | -10
IF junctionAcrobatics = 1   | GLAMP | acrobatics | -10
IF junctionMight = 1        | GLAMP | might | -10
IF junctionPiety = 1        | GLAMP | piety | -10
QUEST | junctionGuts = 0
QUEST | junctionLuck = 1
QUEST | junctionAcrobatics = 0
QUEST | junctionMight = 0
QUEST | junctionPiety = 0
GLAMP | luck | 10

JA
SOUND     | sn_pearlgunshot03
NOTIFY    | Firaga was junctioned to Acrobatics!
NOTIFYALT | Acrobatics increased by 10 points.
IF junctionGuts = 1         | GLAMP | guts | -10
IF junctionLuck = 1         | GLAMP | luck | -10
IF junctionAcrobatics = 1   | GLAMP | acrobatics | -10
IF junctionMight = 1        | GLAMP | might | -10
IF junctionPiety = 1        | GLAMP | piety | -10
QUEST | junctionGuts = 0
QUEST | junctionLuck = 0
QUEST | junctionAcrobatics = 1
QUEST | junctionMight = 0
QUEST | junctionPiety = 0
GLAMP | acrobatics | 10

JM
SOUND     | sn_pearlgunshot03
NOTIFY    | Firaga was junctioned to Might!
NOTIFYALT | Might increased by 10 points.
IF junctionGuts = 1         | GLAMP | guts | -10
IF junctionLuck = 1         | GLAMP | luck | -10
IF junctionAcrobatics = 1   | GLAMP | acrobatics | -10
IF junctionMight = 1        | GLAMP | might | -10
IF junctionPiety = 1        | GLAMP | piety | -10
QUEST | junctionGuts = 0
QUEST | junctionLuck = 0
QUEST | junctionAcrobatics = 0
QUEST | junctionMight = 1
QUEST | junctionPiety = 0
GLAMP | might | 10

JP
SOUND     | sn_pearlgunshot03
NOTIFY    | Firaga was junctioned to Piety!
NOTIFYALT | Piety increased by 10 points.
IF junctionGuts = 1         | GLAMP | guts | -10
IF junctionLuck = 1         | GLAMP | luck | -10
IF junctionAcrobatics = 1   | GLAMP | acrobatics | -10
IF junctionMight = 1        | GLAMP | might | -10
IF junctionPiety = 1        | GLAMP | piety | -10
QUEST | junctionGuts = 0
QUEST | junctionLuck = 0
QUEST | junctionAcrobatics = 0
QUEST | junctionMight = 0
QUEST | junctionPiety = 1
GLAMP | piety | 10

CANCEL
DIALOG | | Junction did not occur.
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// PAUSE //
event_inherited();
if paused() exit;

if (Quest(qst) == 0)
{
    // TRAIL //
    couTrl += dt_sec();
    while (couTrl &gt; 0.35) 
    { 
        couTrl -= 0.35; 
        instance_create(x + choose(1, -1) * irandom(12), y + choose(1, -1) * irandom(8), o_effect_drawing_point_particle); 
    }

    // PULSATE //
    cou += dt_sec() * couDir;
    if (cou &gt;= 1) { cou = 1; couDir = -1; }
    if (cou &lt;= 0) { cou = 0; couDir = +1; }
    image_blend = merge_color(col[0], col[1], cou);
}
else image_blend = c_gray;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with o_effect_drawing_point_particle homing = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
