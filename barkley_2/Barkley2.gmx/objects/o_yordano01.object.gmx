<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_yordano01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oDuergar</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
name = "yordano";
// If you are not blueface, auto aggro for hoopz
if (Quest("playerBlueFace") == 0) visible = 0;
// If you aggro'd as Hoopz and are blueface, don't allow aggro unless he exposed blueface
if (Quest("playerBlueFace") == 1 &amp;&amp; Quest("yordanoState") != 3) solid = 1;
// Cannot aggro if garlic'd
if (Quest("garlic_bacon")) solid = 1; 
event_inherited();
if (guplur) exit;

scr_event_hook_onCommon(event_cinema);

if (Quest("playerBlueFace") == 0 &amp;&amp; Quest("garlic_bacon") == 0)
{
    instance_destroy();
    exit;
}
else if (Quest("garlic_bacon"))
{
    flipAuto = 0;
    siz = ds_map_size(__anims);
    fir = ds_map_find_first(__anims);
    for (i = 0; i &lt; siz; i += 1)
    {
        scr_entity_animation_setSpriteIndex(fir, s_yordano_bloated);
        fir = ds_map_find_next(__anims, fir);
    }            
}

/*
    yordanoState 
    0 - Never spoken to
    1 - Spoken to at least once
    2 - Bluffed
    3 - Bluff failed
*/
script = "
IF garlic_bacon == 1            | GOTO | BLOATED
IF room == r_min_junction01     | GOTO | JUNCTION
IF room == r_min_baseCampBeta01 | GOTO | BETACAMP

JUNCTION
IF yordanoState == 0 | GOTO | YORD_0
IF yordanoState == 1 | GOTO | YORD_1

BETACAMP
IF yordanoState == 0 | GOTO | YORD_BETA_0
IF yordanoState == 1 | GOTO | YORD_BETA_1

YORD_0
DIALOG | Yordano | Hmm, a new guy, eh? Or wait... haven't I seen you somewhere before?
DIALOG | P_NAME  | Uh, no. No you haven't. I'm `kw`P_NAME.`rt` I'm a new Duergar.
DIALOG | Yordano | Huh..._ Listen up, P_NAME. We've got these `kw`dumb nosedwarfs`rt` scattered all over the place, slaving away for the Duergar cause. If you see any of them get out of line, give them a good beating. 
DIALOG | Yordano | Do `s1`NOT`s0` go overboard though! We need to have a few of these fuckers around to do the heavy lifting. 
DIALOG | P_NAME  | Uh, okay. I'm a good Duergar, I will follow the rules.
DIALOG | Yordano | Alright, good. What sort of `kw`heat are you packing?`rt`
DIALOG | P_NAME  | Uhm... heat?
DIALOG | Yordano | Wow._ What hole did they dig you out of? `w1`Gun's!`w0` I'm talking about Gun's!
DIALOG | P_NAME  | Oh! Yeah I've got some cool gun's on me.
DIALOG | Yordano | Okay, listen up. I've got some `kw`GRADE A merch`rt` on me. Really good stuff, really good for killing and maiming dwarfs. You interested in upgrading your arsenal?
QUEST  | yordanoState = 1
GOTO   | SHOPPING

SHOPPING
CHOICE | Purchase Gun's from Yordano?
REPLY  | GUNS_GET | Yes!
REPLY  | GUNS_NO  | Nope...

GUNS_GET
// Yordanos gun shop

GUNS_NO
DIALOG | P_NAME  | Uh, no. 
DIALOG | Yordano | No? Suit yourself, greenhorn. But remember: when you want to upgrade your firepower, you come and talk to me. 

YORD_1
DIALOG | Yordano | Listen up, greenhorn. You better meet your weekly torture quota or the higher ups will have you scrubbing the hoosegow toilets with your tongue. Anyways, did you come over here for some deals?
GOTO   | SHOPPING

YORD_BETA_0
DIALOG | Yordano | Huh? Oh you must be that new fucker. P_NAMEy right? I heard a mention on `w1`the great vine.`w0`
DIALOG | P_NAME  | Actually, it's P_NAME.
DIALOG | Yordano | Oh fuck off, wise guy. 
DIALOG | P_NAME  | S-sorry...
DIALOG | Yordano | Anyways, go and grab yourself a bite if there's anything left. I especially recommend the bacon. It's been drenched in dwarf blood and it just melts in your mouth. Bwahahahaha!
DIALOG | P_NAME  | Okay. (Yuck)
QUEST  | yordanoState = 1

YORD_BETA_1
DIALOG | Yordano | Keep it real, greenhorn. Don't kill and maim all these clowns down here, we have to maintain a fucntioning slave workforce. I know it's hard but just try and control your impulses. We'll probably get to murder them at the end of the week as a reward for our loyalty. Just be patient.

BLOATED
DIALOG | Yordano | `w1`Ugh... The... The Bacon... Garlics... So good but... Agh... Ungh...`w0`
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Make patroller
obj = instance_create(x, y, o_yordano_patrol);
with (obj)
{
    target_number = 3;
    target_x[0] = o_cinema12.x;
    target_y[0] = o_cinema12.y;
    pause[0] = 1;
    
    target_x[1] = o_cinema13.x;
    target_y[1] = o_cinema13.y;
    pause[1] = 1;
    
    target_x[2] = o_cinema14.x;
    target_y[2] = o_cinema14.y;
    pause[2] = 1;
    
    target_x[3] = o_cinema15.x;
    target_y[3] = o_cinema15.y;
    pause[3] = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Yordano attack
with (o_yordano01) scr_event_interactive_deactivate();
Duergar("spawn", "yordano", x, y);
with (o_yordano01) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
