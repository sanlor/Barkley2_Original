<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Setup //
document_title = "Title";
document_page[0] = "Page shit goes here, and it is shit there is no doubt about that I think.";
document_page[1] = "Page shit goe";
document_page[2] = "Page shit goe 123";
page_index = 0;
page_index_goal = 0;
page_total = 2;
alpha = 0;
alpha_goal = 1;
alpha_text = 0;
alpha_text_goal = 1;
flash_left = 0;
flash_right = 0;
page_flip = 0;
page_flip_goal = 0;
timer_page_flip = 3;

// Added By Bort //
document_frame[0] = -1;
document_frame[1] = -1;
document_frame[2] = -1;
character = "";
send_to_event = NULL;
words = "";
frame = -1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (send_to_event != NULL)
{
    Quest(character + global.tnnpagelist[| page_index], 1);
    script_execute(send_to_event, SCRIPT_INTERACT);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.event = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Change pages //
if paused() then exit;

// Backward //
if scr_input_check_pressed(KEYID_LEFT, PLAYER1) and alpha &gt;= 1 and timer_page_flip &lt;= 0 then
    {
    if page_index &gt; 0 then 
        {
        audio_play_sound_at_xy("sn_maria_paper1", false, 20, view_xview + 192, view_yview + 120);
        page_index_goal -= 1;
        page_flip_goal = +16;
        alpha_text_goal = 0;
        timer_page_flip = 2;
        flash_left = 2;
        }
    }
    
// Forward //
else if scr_input_check_pressed(KEYID_RIGHT, PLAYER1) and alpha &gt;= 1 and timer_page_flip &lt;= 0 then
    {
    if page_index &lt; page_total then 
        {
        audio_play_sound_at_xy("sn_maria_paper1", false, 20, view_xview + 192, view_yview + 120);
        page_index_goal += 1;
        page_flip_goal = -16;
        alpha_text_goal = 0;
        timer_page_flip = 2;
        flash_right = 2;
        }
    }
    
// Exit //
if scr_input_check_pressed(KEYID_HOLSTER, PLAYER1) then
    {
    alpha_goal = 0;
    }
    
// Flip page //
if page_flip &lt; page_flip_goal then page_flip += 4;
else if page_flip &gt; page_flip_goal then page_flip -= 4;

// Timer //
if timer_page_flip &gt; 0 then
    {
    // Tick down //
    timer_page_flip -= dt();
    
    // Event //
    if timer_page_flip &lt;= 0 then
        {
        page_flip = -page_flip;
        page_flip_goal = 0;
        alpha_text_goal = 1;
        page_index = page_index_goal;
        }
    }
    
// Alpha //
if alpha_text &gt; alpha_text_goal then alpha_text -= 0.25;
else if alpha_text &lt; alpha_text_goal then alpha_text += 0.25;
if alpha &gt; alpha_goal then alpha -= 0.1;
else if alpha &lt; alpha_goal then alpha += 0.1;
if alpha &lt;= 0 and alpha_goal &lt;= 0 then 
    {
    global.event = false;
    instance_destroy();
    }

// Flashes //
if flash_left &gt; 0 then flash_left -= 0.25;
if flash_right &gt; 0 then flash_right -= 0.25;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Black out everything else //
draw_set_alpha(alpha * 0.8);
draw_set_color(c_black);
draw_rectangle(view_xview - 2, view_yview - 2, view_xview + 386, view_yview + 242, false);

// Draw frames //
draw_sprite(s_mg_document_frame, 0, view_xview + 192, view_yview + 120);

// Draw document title //
draw_set_alpha(alpha * 0.45);
draw_set_color(c_blue);
draw_rectangle(view_xview + 192 - string_length(document_title) * 3.5, view_yview + 25, view_xview + 192 + string_length(document_title) * 3.5, view_yview + 27, false);
draw_set_alpha(alpha);
draw_set_color(c_white);
draw_set_font(global.fn_1);
draw_set_halign(fa_center);
draw_text(view_xview + 192, view_yview + 16, document_title);

// Draw document info //
draw_set_font(global.fn_2);
draw_set_halign(fa_left);
draw_set_alpha(alpha_text);
draw_text_ext(view_xview + 32 + page_flip, view_yview + 50, document_page[page_index], 20, 320);
draw_set_alpha(alpha);
draw_text(view_xview + 156, view_yview + 220, "PAGE ");
draw_text(view_xview + 200, view_yview + 220, string(page_index + 1));
draw_text(view_xview + 210, view_yview + 220, "/");
draw_text(view_xview + 220, view_yview + 220, string(page_total + 1));

// Draw page arrows //
if page_index &gt; 0 then draw_sprite_ext(s_mg_document_arrow, flash_left, view_xview + 140, view_yview + 230, -1, 1, 0, c_white, alpha);
else draw_sprite_ext(s_mg_document_arrow, 3 + flash_left, view_xview + 140, view_yview + 230, -1, 1, 0, c_white, alpha);
if page_index &lt; page_total then draw_sprite_ext(s_mg_document_arrow, flash_right, view_xview + 244, view_yview + 230, +1, 1, 0, c_white, alpha);
else draw_sprite_ext(s_mg_document_arrow, 3 + flash_right, view_xview + 244, view_yview + 230, +1, 1, 0, c_white, alpha); 

// Underline //
draw_sprite_ext(s_mg_document_underline, 0, view_xview + 192, view_yview + 230, 1, 1, 0, c_white, alpha);



</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
