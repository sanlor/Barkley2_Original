<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_fruitbasket01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

/*
fruitbasketTake
0 = Never took
1 = Took
2 = Gave to Cornrow
*/

if (Quest("fruitbasketTake") != 0) { scr_event_interactive_deactivate(); exit; }

scr_event_hook_onInteract(event_cinema);

scl = 1;
Quest("fruitbasketRotten", 0);
if (scr_time_db("tnnCurfew") != "before")
{
    Quest("fruitbasketRotten", 1);
    obj = instance_create(x, y + 20, o_ericfly);
    obj.scl = scl;
    with (obj)
    {
        spd = 0.5;
        path_start(pthFly0, spd, 1, 0);
        path_scale = scl;
    }
    obj = instance_create(x, y + 20, o_ericfly);
    obj.scl = scl;
    with (obj)
    {
        spd = 0.75;
        path_start(pthFly1, spd, 1, 0);
        path_scale = scl;
    }
    obj = instance_create(x, y + 20, o_ericfly);
    obj.scl = scl;
    with (obj)
    {
        spd = 1;
        path_start(pthFly2, spd, 1, 0);
        path_scale = scl;
    }
}

script = "
IF body == governor | GOTO | GOVERNOR
IF fruitbasketRotten == 0 | GOTO | TAKE
GOTO | ROTTEN

GOVERNOR
DIALOG | Governor Elagabalus | (These fruits... are truly juicy!)

TAKE
IF comServ == 2 | DIALOG | P_NAME | (Hmmm, I think this is that fruit basket Mr. Cornrow asked me to get. Should I take it?)
IF comServ != 2 | DIALOG | P_NAME | (Wow, that's one big fruit basket. I wouldn't mind a grape... but that would be stealing...)
CHOICE | Take the fruit basket?
REPLY  | YES | Yeah. (Yes)
REPLY  | NO  | Nah. (No)

YES
QUEST  | fruitbasketTake = 1
EVENT  | o_fruitbasket01 | 0
ITEM   | Fruit Basket | 1
NOTIFY | Got the Fruit Basket!
IF comServ == 2 | DIALOG | P_NAME | (Gotta feed those kids!)
IF comServ != 2 | DIALOG | P_NAME | (Heh. I make my own morals. This fruit is all mine...)
WAIT | 0.5
DIALOG | P_NAME | Huh..._ what's this, behind the rambutans..._ a note?
WAIT | 0.3
DIALOG | P_NAME | Wait, this isn't a note, it's a._._._
DIALOG | P_NAME = s_port_hoopzSurprise | MAP!
NOTIFY | Found Sewers Floor 2 Map!
Map    | gain | Sewers Floor 2
DIALOG | P_NAME = s_port_hoopzHappy | Wow, this could be really useful!
IF comServ == 2 | DIALOG | P_NAME | (Hmmm... should I tell Cornrow? Or keep it for myself?)
GOTO | END

NO
DIALOG | P_NAME | (Nah, I think I'll leave it...)

ROTTEN
IF comServ == 2 | DIALOG | P_NAME | (Hmmm, I think this is that fruit basket Mr. Cornrow asked me to get... but it looks rotten now... I think I came too late...)
IF comServ != 2 | DIALOG | P_NAME | (Pee-yuw! This fruit is rotten.)

END
EXIT |
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Destroy
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>17,16</point>
    <point>18,18</point>
  </PhysicsShapePoints>
</object>
