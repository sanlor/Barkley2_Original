<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_pdt_dondiego01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
shadow_radius = 0;
_interactive_distance = 88;

scr_event_hook_onCommon(event_cinema);

scr_entity_animation_setSpeed("default", 0);
scr_entity_animation_setRange("default", 0, 1);
Animation("define", "sweat", sprite_index, 1, 1, 0);
Animation("define", "pain1", sprite_index, 2, 2, ANIMATION_DEFAULT_SPEED);
Animation("define", "pain2", sprite_index, 4, 4, ANIMATION_DEFAULT_SPEED);
Animation("define", "pain3", sprite_index, 8, 1, 0);
Animation("define", "invert", sprite_index, 9, 1, 0);
Animation("define", "explode", sprite_index, 10, 2, ANIMATION_DEFAULT_SPEED);
Animation("define", "dead", sprite_index, 12, 1, 0);
Animation("define", "robinson", sprite_index, 13, 1, 0);

// Ran away with Nick Carter //
if Quest("zigomarState") &gt;= 3 and Quest("dondiegoState") &lt;= 1 then scr_event_interactive_deactivate();

// Dead //
if Quest("dondiegoState") == 2 and Quest("draculaBlood") &gt;= 1 then
    {
    scr_entity_animation_setSpeed("default", 0);
    scr_entity_animation_setRange("default", 12, 1);
    }
    
// Robinson de la Vega //
if Quest("dondiegoState") == 2 and Quest("draculaBlood") &lt;= 0 then 
    {
    scr_entity_animation_setSpeed("default", 0);
    scr_entity_animation_setRange("default", 13, 1);
    }
    
script = "
IF dondiegoState == 2   | IF draculaBlood &gt;= 1 | GOTO | DON_2
IF dondiegoState == 2   | IF draculaBlood &lt;= 0 | GOTO | DON_ROBINSON
IF pocahontasState &gt;= 2 | GOTO | DON_LETTER
IF dondiegoState == 0   | GOTO | DON_0
IF dondiegoState == 1   | GOTO | DON_1

DON_0
DIALOG  | Don Diego de la Vega | Hola, amigo. I'm sorry but we aren't open for business right now. I have other matters to attend to.
DIALOG  | P_NAME               | Oh, hey, no problem, I was just looking around. What is this place anyway?
DIALOG  | Don Diego de la Vega | This is my gift shop, Gifts de la Vega. Flowers, toys, cards and many other things. But please, if you would be so kind, come back a bit later. I'm a bit busy right now.
DIALOG  | P_NAME               | Sure thing, mister.
QUEST   | dondiegoState = 1

DON_1
DIALOG  | Don Diego de la Vega | We'll be open for business proper a bit later. Come back then, okay?
DIALOG  | P_NAME               | Okay, mister de la Vega.

DON_2
DIALOG  | P_NAME               | Dear Clispaeth... There's nothing left but this... stump. I better get out of here and fast.

DON_LETTER
MOVETO  | o_cts_hoopz | o_cinema0 | MOVE_NORMAL
WAIT    | 0
LOOK    | o_cts_hoopz | NORTH 
FRAME   | CAMERA_NORMAL | o_cinema1 
WAIT    | 0
DIALOG  | Don Diego de la Vega | Ah, greeting's youngster. What brings you to mi establishment on this buen dia?
IF dondiegoState &gt;= 1 | DIALOG | P_NAME | Hey, you're Don Diego de la Vega, right? I've got a letter for you.
IF dondiegoState == 0 | DIALOG | P_NAME | Hey, are you Don Diego de la Vega?
IF dondiegoState == 0 | DIALOG | Don Diego de la Vega | Si, senor. I am Don Diego de la Vega, I don't have any other names or identities.
IF dondiegoState == 0 | DIALOG | P_NAME | Hey that's great. I've got a letter for you.
DIALOG  | Don Diego de la Vega | A letter, eh? Let's take a gander.
GOTO    | NOTE_SELECTOR

NOTE_SELECTOR
NOTE    | select | Don Diego de la Vega
IF note == exit  | GOTO | NOTE_EXIT
IF note == none  | GOTO | NOTE_NONE
IF note == Pocahontas' Letter | GOTO | NOTE_LETTER
GOTO    | NOTE_GENERIC

NOTE_EXIT
DIALOG  | P_NAME               | Uh, actually, nary ye mind...
DIALOG  | Don Diego de la Vega | Please, amigo. Do not try to goof on me.

NOTE_NONE
DIALOG  | P_NAME               | Uh, actually, nary ye mind...
DIALOG  | Don Diego de la Vega | Please, amigo. Do not try to goof on me.

NOTE_GENERIC
DIALOG  | Don Diego de la Vega | Hmm... Are you sure this is really for me? It doesn't look like it.
DIALOG  | P_NAME               | Oops, sorry. Here, let me take another look at my warez.
GOTO    | NOTE_SELECTOR

NOTE_LETTER
WAIT    | 0.4
USEAT   | o_pdt_dondiego01
WAIT    | 0.4
NOTIFY  | Gave Pocahontas' Letter to Don Diego
NOTE    | give | Pocahontas' Letter
WAIT    | 0.75
DIALOG  | Don Diego de la Vega | Hmm? Is this a broma, youngster? There's nothing inside this letter. Just a wretched smell and some dust.
DIALOG  | P_NAME               | I don't know what it's supposed to be, I'm just doing a favor for someone else.
DIALOG  | Don Diego de la Vega | Oh, I see... `s1`*Achoo*...`s0` Agh... Madre de dios... Something got into my nose...
PLAYSET | o_pdt_dondiego01     | sweat | sweat
DIALOG  | P_NAME               | I'm sorry for wasting your time, mister de la Vega. 
DIALOG  | Don Diego de la Vega | Ah, don't... worry about it. I just... Ugh... It sure is hot in here, eh?
DIALOG  | P_NAME               | Mister de la Vega, are you alright?
DIALOG  | Don Diego de la Vega | I... I don't know...
DIALOG  | P_NAME               | You don't look so good. Maybe you have a fever or something.
DIALOG  | Don Diego de la Vega | Could it be... We've been compromised...? Damnit... We have been too descuidado...
DIALOG  | P_NAME               | What are you talking about? What's going on here?
PLAYSET | o_pdt_dondiego01     | pain1 | pain1
Misc    | music                | mus_pdt_heartbeat | 1
SURPRISEAT | o_pdt_dondiego01
DIALOG  | P_NAME               | W-what the...?!
PLAYSET | o_pdt_dondiego01     | pain2 | pain2
DIALOG  | Don Diego de la Vega = s_port_dondiego_hurt1 | Argh... my... chest... what is happening... urgh... to... me... it burns... ARGH!!
DIALOG  | P_NAME = s_port_hoopzSurprise | W-what?
DIALOG  | Don Diego de la Vega = s_port_dondiego_hurt1 | No! That... ugh... that puta madre... he... did this... The letter... It was...
DIALOG  | P_NAME = s_port_hoopzShock | ...!
WAIT    | 1.25
CREATE  | o_cts_dondiego_demise | x | y
WAIT    | 10.5
QUEST   | draculaBlood = 4
Emote   | !
WAIT    | 1
Emote   | !
DIALOG  | P_NAME = s_port_hoopzShock | HOLY FRICK!
WAIT    | 1.75
DIALOG  | P_NAME = s_port_hoopzShock | What the heck happened!? Clispaeth Christ! He just... he just exploded...
WAIT    | 0.75
DIALOG  | P_NAME = s_port_hoopzShock | Oh flub, I'm covered in blood and guts now... I gotta get outta here or they will pin this on me. Gotta act normal, gotta stay calm. Okay, uh... If I go through the front door everyone will see me. If I make a run for it I think I can make it. But... What if they get me? They'll throw me in a hoosegow... What about that ladder over there? Maybe... Maybe there's a `kw`Secret Passage`rt` down there or something.     
QUEST   | dondiegoState = 2
QUEST   | dondiegoBloodChoice = 1
QUEST   | draculaState = 1
QUEST   | zorroState = 1
QUEST   | dondiegoRobinson = 1
QUEST   | pdtRumour = 4
Destroy | o_pdt_dondiego_prohibit01
CREATE  | o_room_dondiegoBlood | x | y

DON_ROBINSON
DIALOG  | Don Diego de la Robinson = s_port_sfr_dondiego | `w1`*Gurgle*`w0` ... who had very... `w1`*Cough*`w0` ... properly taught him... `w1`*Snort*`w0` ... equally to love and... fear him.
DIALOG  | P_NAME                   | (What is this thing...?)
";

/*
scr_entity_animation_new("pain1");
scr_entity_animation_setSpeed("pain1", 1);
scr_entity_animation_setRange("pain1", 2, 2);

scr_entity_animation_new("pain2");
scr_entity_animation_setSpeed("pain2", 1);
scr_entity_animation_setRange("pain2", 4, 4);

scr_entity_animation_new("pain3");
scr_entity_animation_setSpeed("pain3", 1);
scr_entity_animation_setRange("pain3", 8, 1);

scr_entity_animation_new("invert");
scr_entity_animation_setSpeed("invert", 1);
scr_entity_animation_setRange("invert", 9, 1);

scr_entity_animation_new("explode");
scr_entity_animation_setSpeed("explode", 1);
scr_entity_animation_setRange("explode", 10, 2);

scr_entity_animation_new("dead");
scr_entity_animation_setSpeed("dead", 0);
scr_entity_animation_setRange("dead", 12, 1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Blow up //
part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 0;
part.speed_x = -(1 + random(1));
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 1;
part.speed_x = +(1 + random(1));
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 2;
part.speed_x = choose(1, -1) * random(1);
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 3;
part.speed_x = choose(1, -1) * random(1);
part.speed_y = -(1 + random(3));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 4;
part.speed_x = -random(1) - 1;
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 5;
part.speed_x = +random(1) + 1;
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 6;
part.speed_x = -random(1) - 1;
part.speed_y = -(1 + random(1));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 7;
part.speed_x = +random(1) + 1;
part.speed_y = -(1 + random(2));

part = instance_create(x, y, o_pdt_dondiego_parts01);
part.image_index = 8;
part.speed_x = choose(1, -1) * random(1);
part.speed_y = -(1 + random(1));

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>14,39</point>
    <point>21,21</point>
  </PhysicsShapePoints>
</object>
