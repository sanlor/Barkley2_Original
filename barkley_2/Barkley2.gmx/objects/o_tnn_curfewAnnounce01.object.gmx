<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_eventCollision_square</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>-1410065407</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
scr_actor_unsetRigid(id);
shadow_radius = false;
scr_event_hook_onCollision(event_collision);
Quest("curfewCollision", 0);
goofster_x = 0;
goofster_y = 0;

// Disable object // If it's before curfew //
if Quest("curfewAnnouncement") == 0 then
    {
    if ClockTime("get") &lt; 3 then
        {
        scr_event_interactive_deactivate();
        instance_destroy();
        }
    }
    
// Disable object // If it's during the curfew and this has already been activated before //    
else if Quest("curfewAnnouncement") == 1 then
    {
    if ClockTime("get") &gt;= 3 and ClockTime("get") &lt; 5 then
        {
        scr_event_interactive_deactivate();
        instance_destroy();
        }
    }
    
// Disable object // Curfew announcment has been made already //
else if Quest("curfewAnnouncement") == 2 then 
    {
    scr_event_interactive_deactivate();
    instance_destroy();
    }   

script = "
IF curfewAnnouncement == 0 | GOTO | CURFEW_START_CHECK
IF curfewAnnouncement == 1 | GOTO | CURFEW_END_CHECK

CURFEW_START_CHECK
IF area == tnn | GOTO | CURFEW_START_TNN
GOTO | CURFEW_START_SEWER

CURFEW_END_CHECK
IF area == tnn | GOTO | CURFEW_END_TNN
GOTO | CURFEW_END_SEWER

CURFEW_START_TNN
WAIT   | 0.25
SOUND  | sn_tnnIntercomScreech01
LOOKAT | o_cts_hoopz | o_tnn_loudspeaker01
WAIT   | 0.25
Emote  | ? 
WAIT   | 1.25
DIALOG | P_NAME | Huh? What's going on?
EVENT  | o_tnn_loudspeakerPedestrianSpot01 | 0
WAIT   | 0.25
FRAME  | MOVE_NORMAL | o_tnn_loudspeaker01
WAIT   | 0
QUEST  | tnnLoudspeaker = 1
SOUND  | sn_tnnIntercomSpeech01
DIALOG | Loudspeaker | Attention all citizens! A curfew is now in effect. Everyone must retreat to their housing units and remain there until further notice. No unauthorized personnel are allowed anywhere near the bank. Anyone breaking these rules will be punished accordingly.
DIALOG | Loudspeaker | Now move it, you lazy sacks of shit!
WAIT   | 0.25
SOUND  | sn_tnnIntercomScreech01
EVENT  | o_tnn_loudspeakerPedestrianSpot01 | 1
QUEST  | tnnLoudspeaker = 0
PEDESTRIAN | off
WAIT   | 1.75
DIALOG | P_NAME | Whoa, this sounds serious. I'd better stay out of sight of those duergars.            
QUEST  | curfewAnnouncement = 1
QUEST  | tnnCurfew = 1
FADE   | 1 | 1
WAIT   | 1.25
EVENT  | o_tnn_curfewAnnounce01 | 0

CURFEW_START_SEWER
QUEST  | curfewAnnouncement = 1
QUEST  | curfewSurprise = 1
QUEST  | tnnCurfew = 1

CURFEW_END_TNN
WAIT   | 0.25
SOUND  | sn_tnnIntercomScreech01
LOOKAT | o_cts_hoopz | o_tnn_loudspeaker01
WAIT   | 0.25
Emote  | ?
WAIT   | 1.25
DIALOG | P_NAME | Huh? What's this now?
EVENT  | o_tnn_loudspeakerPedestrianSpot01 | 0
WAIT   | 0.25
FRAME  | MOVE_NORMAL | o_tnn_loudspeaker01
WAIT   | 0
QUEST  | tnnLoudspeaker | 1
SOUND  | sn_tnnIntercomSpeech01
DIALOG | Loudspeaker | Attention all citizens! The curfew is now over and you may return to your sad, pathetic lives.
WAIT   | 0.25
SOUND  | sn_tnnIntercomScreech01
EVENT  | o_tnn_loudspeakerPedestrianSpot01 | 1
QUEST  | tnnLoudspeaker = 0
WAIT   | 1.25
DIALOG | P_NAME | Hey, cool.            
QUEST  | curfewAnnouncement = 2
QUEST  | tnnCurfew = 2
FADE   | 1 | 1
WAIT   | 1.25
EVENT  | o_tnn_curfewAnnounce01 | 0

CURFEW_END_SEWER                    
QUEST  | curfewAnnouncement = 2
QUEST  | curfewSurprise = 2
QUEST  | tnnCurfew = 2
";


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Quest("goofster_x", o_hoopz.x);
//Quest("goofster_y", o_hoopz.y);
Teleport(room, o_hoopz.x, o_hoopz.y, 1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,24</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
