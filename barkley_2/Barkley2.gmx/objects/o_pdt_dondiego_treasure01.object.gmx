<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_gbl_treasureChest01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>InteractiveActor</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

scr_event_hook_onCommon(event_cinema);
scr_entity_animation_new("opening");
scr_entity_animation_new("open");
scr_entity_animation_setSpeed("opening", 1);
scr_entity_animation_setRange("default", 0, 1);
scr_entity_animation_setRange("opening", 1, 5);
scr_entity_animation_setRange("open", 5, 1);
shadow_radius = 0;

if Quest("dondiegoChest") == 2 then scr_entity_animation_set(o_pdt_dondiego_treasure01, "open");

script = "
IF draculaBlood &gt; 0 | GOTO | BLOOD
MOVETO | o_cts_hoopz | o_cinema8 | MOVE_NORMAL
WAIT   | 0
LOOK   | o_cts_hoopz | NORTH
WAIT   | 0.1
IF dondiegoChest == 0 | GOTO | FIRST_TIMER
IF dondiegoChest == 1 | GOTO | SECOND_TIMER
IF dondiegoChest == 2 | GOTO | OPEN_ALREADY

BLOOD
DIALOG | P_NAME | No time for this right now!

FIRST_TIMER
DIALOG | P_NAME | I might as well help myself to this. It's not like Don Diego de la Vega is around anymore so I think it's okay if I just take what's in here.
WAIT   | 0.25
USEAT  | NORTH
WAIT   | 0.25
DIALOG | P_NAME | Dang, it's locked.
QUEST  | dondiegoChest = 1
GOTO   | TRY_TO_OPEN

TRY_TO_OPEN
CHOICE | Try to open the treasure chest?
REPLY  | YES | Yeah!
REPLY  | NO  | NO!

YES
LOCKPICK | 2
IF lockpick == 1 | GOTO | OPEN_SUCCESS
IF lockpick == 0 | GOTO | OPEN_FAILURE

NO
DIALOG | P_NAME | Nay. Not right now.

OPEN_SUCCESS 
DIALOG | P_NAME | I unlocked it!
DIALOG | P_NAME | Let's see what's inside...
FRAME  | CAMERA_NORMAL | o_cinema7
WAIT   | 0
USEAT  | NORTH
WAIT   | 0.25
PLAYSET | o_pdt_dondiego_treasure01 | opening | open
WAIT   | 1
DIALOG | P_NAME | Wha...? There's nothing in here but junk! A whip, some black clothes and a bunch of fedoras. Pfft, what a total waste.
QUEST  | dondiegoChest = 2

OPEN_FAILURE
DIALOG | P_NAME | I can't seem to open it...

SECOND_TIMER
GOTO   | TRY_TO_OPEN

OPEN_ALREADY
DIALOG | P_NAME | I can't even look at this disgrace.
";
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
