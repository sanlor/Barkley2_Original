<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_astyages01</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oDuergar</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create
name = "astyages";
event_inherited();
if (guplur) exit;

// Prison intro //
if Quest("prisonIntro") != 1 and room = r_pri_prisonGate01 then scr_event_interactive_deactivate();
if Quest("prisonIntro") != 2 and room = r_pri_prisonCourt01 then scr_event_interactive_deactivate();
if Quest("prisonIntro") != 3 and room = r_pri_prisonProcessing01 then scr_event_interactive_deactivate();
if Quest("prisonLiberated") == 3 and room = r_pri_prisonProcessing01 then scr_event_interactive_deactivate();
//TODO: needs to patrol the courtyard when the prison quest is active and you are stuck in there

//Event Hook
scr_event_hook_onCommon(event_cinema);

//Prison Conversations
event_user(0);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Conversation with ASTYAGES in Hoosegow
/*
VARIABLES
astyagesState
0 = never talked to Astyages
1 = talked to Astyages
astyagesToilet
0 = haven't asked about the Toilet
1 = have asked about the Toilet
astyagesGetOut
 0 = haven't asked how to get out
 1 = have asked how to get out
*/

script = "
DIALOG | P_NAME   | Umm, hello?
DIALOG | Astyages | This better be good, freak.
" +
//TODO: add in a check to see if there are any other questions, if not, send directly to GOTO | GETBENT
"
CHOICE | Dare ask the Duerg?
IF knowPrisonToilet &gt;= 2 | IF astyagesToilet == 0 | REPLY | BATHROOM | Is there any other place to use the bathroom around here?
IF astyagesGetOut == 0 | REPLY | GETOUT | How do I get out of here?
REPLY | NARYYEMIND

BATHROOM
DIALOG | P_NAME   | Well, I was just wondering if there were any other places to use the bathroom, like... a Utility Station or something?
DIALOG | Astyages | Utili-what?_ Look you lanky-ass dwarf miscreant- You free your sewer snake like the rest of them in full view.
DIALOG | P_NAME = s_port_hoopzSad | I think I was just hoping for a little more,_ uh,_ `w1`privacy.`w0`
DIALOG | Astyages | PRIVACY?! You're in P_R_I_S_O_N you pissant. Crap in front of everyone else like the rest of you lesser freaks!
DIALOG | P_NAME = s_port_hoopzSad | I-_I-_I don't know how.
DIALOG | Astyages | Learn by doing. Nothing like bonding with your fellow yardbirds like dropping a jolst for all the eyes to see. Now get out of my face. Your tiny dwarf turds make me sick.
QUEST  | astyagesToilet = 1

GETOUT
DIALOG | P_NAME   | Um, excuse me,_ but... how does one_ `sq`get out of prison.`rt`
DIALOG | Astyages | In a bodybag, how else? Now get out of my pretty face.
QUEST  | astyagesGetOut = 1

NARYYEMIND
DIALOG | P_NAME   | Oh, uh,_ nary ye mind. I'll be going.
DIALOG | Astyages | Damn straight.

GETBENT
DIALOG | Astyages | GET_ `w1`BENT.`w0`
"
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
